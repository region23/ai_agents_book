<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–ò-–∞–≥–µ–Ω—Ç—ã –¥–ª—è —Å–∞–º—ã—Ö –º–∞–ª–µ–Ω—å–∫–∏—Ö ‚Äî –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —É—á–µ–±–Ω–∏–∫</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Outfit:wght@300;400;500;600;700;800;900&family=Caveat:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0a0a0f;
            --bg-card: #12121a;
            --bg-card-hover: #1a1a26;
            --bg-code: #0d1117;
            --border: #222233;
            --border-active: #4f46e5;
            --text: #e2e2ef;
            --text-dim: #8888a0;
            --text-bright: #ffffff;
            --accent: #6366f1;
            --accent-glow: rgba(99, 102, 241, 0.15);
            --green: #22c55e;
            --green-dim: rgba(34, 197, 94, 0.12);
            --orange: #f59e0b;
            --orange-dim: rgba(245, 158, 11, 0.12);
            --red: #ef4444;
            --red-dim: rgba(239, 68, 68, 0.08);
            --cyan: #06b6d4;
            --pink: #ec4899;
            --step-connector: #222233;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
            overflow-x: hidden;
        }

        /* ====== HERO ====== */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background:
                radial-gradient(ellipse at 30% 20%, rgba(99, 102, 241, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 80%, rgba(6, 182, 212, 0.06) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(236, 72, 153, 0.04) 0%, transparent 60%);
            animation: heroBgDrift 20s ease-in-out infinite alternate;
        }

        @keyframes heroBgDrift {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-3%, 2%) rotate(2deg); }
        }

        .hero-content { position: relative; z-index: 1; max-width: 800px; }

        .hero-emoji {
            font-size: 5rem;
            margin-bottom: 1.5rem;
            display: block;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-12px); }
        }

        .hero h1 {
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--text-bright) 0%, var(--accent) 50%, var(--cyan) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            font-weight: 300;
            color: var(--text-dim);
            margin-bottom: 0.8rem;
        }

        .hero-description {
            font-size: 1.05rem;
            color: var(--text-dim);
            max-width: 550px;
            margin: 0 auto 3rem;
            line-height: 1.8;
        }

        .hero-cta {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 2.5rem;
            background: var(--accent);
            color: white;
            text-decoration: none;
            border-radius: 100px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s;
            box-shadow: 0 0 30px var(--accent-glow);
        }

        .hero-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 50px var(--accent-glow), 0 10px 40px rgba(0,0,0,0.3);
        }

        .hero-meta {
            margin-top: 3rem;
            display: flex;
            gap: 2rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .hero-meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-dim);
            font-size: 0.9rem;
        }

        .hero-meta-item span:first-child { font-size: 1.1rem; }

        /* ====== CONCEPT SECTION ====== */
        .concept-section {
            max-width: 900px;
            margin: 0 auto;
            padding: 6rem 2rem;
        }

        .concept-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .concept-header h2 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .concept-header p {
            color: var(--text-dim);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .loop-diagram {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 3rem 2rem;
            margin-bottom: 3rem;
            text-align: center;
        }

        .loop-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 0.5rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: clamp(0.75rem, 2vw, 1rem);
        }

        .loop-node {
            padding: 0.6rem 1.2rem;
            border-radius: 10px;
            font-weight: 600;
            white-space: nowrap;
        }

        .loop-node.llm { background: var(--accent-glow); color: var(--accent); border: 1px solid rgba(99,102,241,0.3); }
        .loop-node.output { background: var(--green-dim); color: var(--green); border: 1px solid rgba(34,197,94,0.3); }
        .loop-node.tool { background: var(--orange-dim); color: var(--orange); border: 1px solid rgba(245,158,11,0.3); }
        .loop-node.context { background: rgba(6,182,212,0.1); color: var(--cyan); border: 1px solid rgba(6,182,212,0.3); }

        .loop-arrow {
            color: var(--text-dim);
            font-size: 1.4rem;
            flex-shrink: 0;
        }

        .loop-label {
            font-family: 'Caveat', cursive;
            font-size: 1.3rem;
            color: var(--pink);
            margin-top: 1.5rem;
            display: block;
        }

        /* ====== STEPS ====== */
        .steps-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem 2rem 6rem;
        }

        .step {
            position: relative;
            padding-left: 3.5rem;
            margin-bottom: 0;
            opacity: 1;
        }

        /* Vertical connector line */
        .step::before {
            content: '';
            position: absolute;
            left: 1.15rem;
            top: 3.5rem;
            bottom: -1px;
            width: 2px;
            background: var(--step-connector);
        }

        .step:last-child::before { display: none; }

        .step-number {
            position: absolute;
            left: 0;
            top: 0.5rem;
            width: 2.4rem;
            height: 2.4rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            font-family: 'JetBrains Mono', monospace;
            border: 2px solid var(--border);
            background: var(--bg);
            color: var(--text-dim);
            z-index: 1;
            transition: all 0.4s;
        }

        .step.active .step-number {
            border-color: var(--accent);
            background: var(--accent);
            color: white;
            box-shadow: 0 0 20px var(--accent-glow);
        }

        .step.done .step-number {
            border-color: var(--green);
            background: var(--green-dim);
            color: var(--green);
        }

        .step-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            transition: all 0.3s;
            cursor: pointer;
        }

        .step-card:hover {
            border-color: rgba(99, 102, 241, 0.3);
            background: var(--bg-card-hover);
        }

        .step.active .step-card {
            border-color: var(--accent);
            box-shadow: 0 0 40px var(--accent-glow);
        }

        .step-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 1rem;
            margin-bottom: 0.75rem;
        }

        .step-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-bright);
        }

        .step-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 100px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            flex-shrink: 0;
        }

        .step-badge.beginner { background: var(--green-dim); color: var(--green); }
        .step-badge.intermediate { background: var(--orange-dim); color: var(--orange); }
        .step-badge.advanced { background: var(--red-dim); color: var(--red); }

        .step-intro {
            color: var(--text-dim);
            margin-bottom: 1.5rem;
            font-size: 1.02rem;
        }

        .step-content { display: none; }
        .step.active .step-content { display: block; }

        .step-detail {
            margin-bottom: 1.5rem;
            color: var(--text);
            font-size: 0.98rem;
        }

        .step-detail p { margin-bottom: 0.75rem; }

        .key-insight {
            background: var(--accent-glow);
            border-left: 3px solid var(--accent);
            border-radius: 0 10px 10px 0;
            padding: 1rem 1.25rem;
            margin: 1.5rem 0;
            font-size: 0.95rem;
        }

        .key-insight strong { color: var(--accent); }

        .what-happens {
            background: rgba(6, 182, 212, 0.06);
            border-left: 3px solid var(--cyan);
            border-radius: 0 10px 10px 0;
            padding: 1rem 1.25rem;
            margin: 1.5rem 0;
            font-size: 0.95rem;
        }

        .what-happens strong { color: var(--cyan); }

        .terminal-output {
            background: #000;
            border: 1px solid #333;
            border-radius: 10px;
            padding: 1rem 1.25rem;
            margin: 1.25rem 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            line-height: 1.6;
            color: #aaa;
            overflow-x: auto;
        }

        .terminal-output .t-green { color: #4ade80; }
        .terminal-output .t-yellow { color: #facc15; }
        .terminal-output .t-blue { color: #60a5fa; }
        .terminal-output .t-dim { color: #555; }
        .terminal-output .t-cyan { color: #22d3ee; }
        .terminal-output .t-bold { color: #fff; font-weight: 600; }

        .run-command {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: rgba(34, 197, 94, 0.06);
            border: 1px solid rgba(34, 197, 94, 0.2);
            border-radius: 10px;
            padding: 0.75rem 1rem;
            margin: 1.25rem 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            flex-wrap: wrap;
        }

        .run-command .run-icon { font-size: 1rem; }
        .run-command code { color: var(--green); }
        .run-command .run-copy-btn {
            margin-left: auto;
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            padding: 0.35rem 0.6rem;
            color: var(--text-dim);
            font-size: 0.7rem;
            cursor: pointer;
            font-family: 'Outfit', sans-serif;
            transition: all 0.2s;
        }
        .run-command .run-copy-btn:hover { background: rgba(255,255,255,0.12); color: var(--text); }
        .run-command .run-copy-btn.copied { background: var(--green-dim); color: var(--green); border-color: rgba(34,197,94,0.3); }

        /* Code blocks */
        .code-block {
            position: relative;
            margin: 1.25rem 0;
        }

        .code-filename {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: #1a1a2e;
            border: 1px solid var(--border);
            border-bottom: none;
            border-radius: 8px 8px 0 0;
            padding: 0.4rem 1rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: var(--text-dim);
        }

        .code-filename .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--cyan);
        }

        pre {
            background: var(--bg-code);
            border: 1px solid var(--border);
            border-radius: 0 12px 12px 12px;
            padding: 1.25rem;
            overflow-x: auto;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            line-height: 1.7;
            color: #c9d1d9;
            tab-size: 4;
        }

        .code-block:not(:has(.code-filename)) pre {
            border-radius: 12px;
        }

        pre .kw { color: #ff7b72; }
        pre .str { color: #a5d6ff; }
        pre .fn { color: #d2a8ff; }
        pre .cm { color: #555e6b; font-style: italic; }
        pre .num { color: #79c0ff; }
        pre .type { color: #7ee787; }
        pre .op { color: #ff7b72; }
        pre .prop { color: #c9d1d9; }
        pre .param { color: #ffa657; }

        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            padding: 0.35rem 0.6rem;
            color: var(--text-dim);
            font-size: 0.7rem;
            cursor: pointer;
            font-family: 'Outfit', sans-serif;
            transition: all 0.2s;
            z-index: 2;
        }

        .copy-btn:hover { background: rgba(255,255,255,0.12); color: var(--text); }
        .copy-btn.copied { background: var(--green-dim); color: var(--green); border-color: rgba(34,197,94,0.3); }

        /* Handwritten annotations */
        .handnote {
            font-family: 'Caveat', cursive;
            color: var(--pink);
            font-size: 1.15rem;
        }

        /* ====== TOOLTIP TERMS ====== */
        .term {
            position: relative;
            display: inline-block;
            border-bottom: 1px dotted rgba(136, 136, 160, 0.6);
            cursor: help;
        }

        .term::after {
            content: attr(data-tip);
            position: absolute;
            left: 50%;
            bottom: 140%;
            transform: translateX(-50%);
            background: #0f1118;
            color: var(--text);
            padding: 0.45rem 0.65rem;
            border-radius: 8px;
            border: 1px solid var(--border);
            font-size: 0.75rem;
            line-height: 1.4;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            box-shadow: 0 8px 30px rgba(0,0,0,0.35);
            z-index: 20;
        }

        .term:hover::after,
        .term:focus-visible::after {
            opacity: 1;
            transform: translateX(-50%) translateY(-4px);
        }

        .loop-node.term { border-bottom: none; }

        /* ====== PREP ====== */
        .prep-section {
            max-width: 900px;
            margin: 0 auto;
            padding: 4rem 2rem 2rem;
        }

        .prep-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .prep-header h2 {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 0.75rem;
        }

        .prep-header p {
            color: var(--text-dim);
            font-size: 1.05rem;
            max-width: 640px;
            margin: 0 auto;
        }

        .prep-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1rem;
        }

        .prep-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 1.25rem 1.25rem 1.1rem;
        }

        .prep-title {
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .prep-card p { color: var(--text-dim); font-size: 0.95rem; }

        .prep-note {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: var(--text-dim);
        }

        /* ====== DEMO ====== */
        .demo-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(99, 102, 241, 0.12);
            border: 1px solid rgba(99, 102, 241, 0.3);
            color: var(--text);
            padding: 0.5rem 0.9rem;
            border-radius: 8px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Outfit', sans-serif;
            margin-top: 0.5rem;
        }

        .demo-btn:hover { background: rgba(99, 102, 241, 0.2); }

        .demo-output {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, opacity 0.3s ease;
            margin: 0;
        }

        .demo-output.visible {
            max-height: 2000px;
            opacity: 1;
            margin: 1.25rem 0;
            overflow-x: auto;
        }

        .output-note {
            color: var(--text-dim);
            font-size: 0.8rem;
            margin-top: 0.5rem;
            display: none;
        }

        .output-note.visible { display: block; }

        /* ====== MINI BLOCKS ====== */
        .mini-block {
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 0.9rem 1.1rem;
            margin: 1rem 0;
            font-size: 0.92rem;
        }

        .mini-block.expect {
            background: rgba(34, 197, 94, 0.08);
            border-left: 3px solid var(--green);
        }

        .mini-block.trouble {
            background: rgba(245, 158, 11, 0.08);
            border-left: 3px solid var(--orange);
        }

        .mini-title {
            font-weight: 700;
            margin-bottom: 0.35rem;
        }

        /* Architecture diagram */
        .arch-diagram {
            background: var(--bg-code);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            line-height: 1.8;
            text-align: center;
        }

        .arch-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        /* ====== PROGRESS MAP ====== */
        .progress-map {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            display: flex;
            flex-direction: column;
            gap: 0.4rem;
            z-index: 100;
            background: rgba(10, 10, 15, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 0.75rem;
        }

        .progress-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            border: 2px solid var(--border);
            background: transparent;
            cursor: pointer;
            transition: all 0.3s;
        }

        .progress-dot.done { border-color: var(--green); background: var(--green); }
        .progress-dot.current { border-color: var(--accent); background: var(--accent); box-shadow: 0 0 8px var(--accent-glow); }

        /* ====== FOOTER ====== */
        .footer {
            text-align: center;
            padding: 4rem 2rem;
            border-top: 1px solid var(--border);
        }

        .footer-title {
            font-size: 1.8rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .footer p {
            color: var(--text-dim);
            max-width: 500px;
            margin: 0 auto 2rem;
        }

        .footer-steps {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--text-dim);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.3rem;
        }

        .footer-steps span { opacity: 0.5; }

        /* ====== RESPONSIVE ====== */
        @media (max-width: 640px) {
            .step { padding-left: 2.5rem; }
            .step-card { padding: 1.25rem; }
            pre { font-size: 0.72rem; padding: 1rem; }
            .progress-map { display: none; }
            .loop-flow { font-size: 0.7rem; }
            .hero-meta { flex-direction: column; align-items: center; gap: 0.75rem; }
        }

        /* ====== FOCUS VISIBLE ====== */
        .step-card:focus-visible,
        .progress-dot:focus-visible,
        .demo-btn:focus-visible,
        .copy-btn:focus-visible,
        .run-copy-btn:focus-visible,
        .hero-cta:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 3px;
        }
    </style>
</head>
<body>

<!-- ====== HERO ====== -->
<section class="hero">
    <div class="hero-content">
        <span class="hero-emoji">ü§ñ</span>
        <h1>–ò–ò-–∞–≥–µ–Ω—Ç—ã –¥–ª—è —Å–∞–º—ã—Ö –º–∞–ª–µ–Ω—å–∫–∏—Ö</h1>
        <p class="hero-subtitle">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —É—á–µ–±–Ω–∏–∫ –Ω–∞ TypeScript</p>
        <p class="hero-description">
            8 —à–∞–≥–æ–≤ –æ—Ç ¬´–ø—Ä–∏–≤–µ—Ç, <span class="term" data-tip="–ë–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å">LLM</span>¬ª –¥–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
            —Å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º, <span class="term" data-tip="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã/—Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å">tools</span> –∏
            <span class="term" data-tip="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π">human-in-the-loop</span>.
            –ù–∏–∫–∞–∫–æ–π –º–∞–≥–∏–∏ ‚Äî —Ç–æ–ª—å–∫–æ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã –Ω–∞–ø–∏—à–µ—à—å —Å–∞–º.
        </p>
        <a href="#step-0" class="hero-cta">
            –ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ ‚Üì
        </a>
        <div class="hero-meta">
            <div class="hero-meta-item">
                <span>‚è±</span> <span>~2 —á–∞—Å–∞</span>
            </div>
            <div class="hero-meta-item">
                <span>üì¶</span> <span>TypeScript + OpenRouter</span>
            </div>
            <div class="hero-meta-item">
                <span>üéØ</span> <span>–û—Ç –Ω—É–ª—è –¥–æ –∞–≥–µ–Ω—Ç–∞</span>
            </div>
        </div>
    </div>
</section>

<!-- ====== BEFORE START ====== -->
<section class="prep-section" id="before-start">
    <div class="prep-header">
        <h2>–ü–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º</h2>
        <p>–ü–∞—Ä–∞ –º–∏–Ω—É—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ ‚Äî –∏ –≤—Å—ë –ø–æ–π–¥—ë—Ç –≥–ª–∞–¥–∫–æ. –≠—Ç–æ –≤–∞–∂–Ω–æ, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —Ç—ã –¥–µ–ª–∞–µ—à—å –ø–µ—Ä–≤—ã–µ —à–∞–≥–∏.</p>
    </div>
    <div class="prep-grid">
        <div class="prep-card">
            <div class="prep-title">‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ</div>
            <p>Node.js 18+ –∏ npm. –ü—Ä–æ–≤–µ—Ä—å –≤–µ—Ä—Å–∏–∏: <code style="color: var(--cyan);">node -v</code> –∏ <code style="color: var(--cyan);">npm -v</code>.</p>
        </div>
        <div class="prep-card">
            <div class="prep-title">üîë OpenRouter</div>
            <p>–ù—É–∂–µ–Ω –∞–∫–∫–∞—É–Ω—Ç –∏ API‚Äë–∫–ª—é—á. –†–∞—Å—Ö–æ–¥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ–¥–µ–ª–∏, –Ω–æ –¥–ª—è –ø–µ—Ä–≤—ã—Ö —à–∞–≥–æ–≤ –æ–±—ã—á–Ω–æ —Ö–≤–∞—Ç–∞–µ—Ç –ª–∏–º–∏—Ç–∞ $1‚Äì$5. –°–ª–µ–¥–∏ –∑–∞ –±–∞–ª–∞–Ω—Å–æ–º –≤ –∫–∞–±–∏–Ω–µ—Ç–µ.</p>
        </div>
        <div class="prep-card">
            <div class="prep-title">üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–ª—é—á–∞</div>
            <p>–ö–ª—é—á —Ö—Ä–∞–Ω–∏–º —Ç–æ–ª—å–∫–æ –≤ <code style="color: var(--cyan);">.env</code>. –ù–µ –ø—É–±–ª–∏–∫—É–π –µ–≥–æ –∏ –Ω–µ –∫–æ–º–º–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.</p>
        </div>
    </div>

    <div class="prep-card" style="margin-top: 1.5rem;">
        <div class="prep-title">–ë—ã—Å—Ç—Ä—ã–π —á–µ–∫‚Äë–ª–∏—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞</div>
        <div class="run-command" style="margin-top: 0.75rem;">
            <span class="run-icon">‚ñ∂</span>
            <code>mkdir simple-agent && cd simple-agent</code>
        </div>
        <div class="run-command">
            <span class="run-icon">‚ñ∂</span>
            <code>mkdir src</code>
        </div>
        <div class="code-block">
            <div class="code-filename"><span class="dot"></span>.gitignore</div>
            <pre>node_modules
.env</pre>
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        </div>
        <p class="prep-note">–í —É—á–µ–±–Ω–∏–∫–µ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ ¬´–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ¬ª ‚Äî —ç—Ç–æ —Å–∏–º—É–ª—è—Ü–∏—è –≤—ã–≤–æ–¥–∞. –†–µ–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã <span class="term" data-tip="–ë–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å">LLM</span> –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è.</p>
    </div>
</section>

<!-- ====== CONCEPT ====== -->
<section class="concept-section" id="step-0">
    <div class="concept-header">
        <h2>–ß—Ç–æ —Ç–∞–∫–æ–µ –ò–ò-–∞–≥–µ–Ω—Ç?</h2>
        <p>–ü—Ä–µ–∂–¥–µ —á–µ–º –ø–∏—Å–∞—Ç—å –∫–æ–¥ ‚Äî —Ä–∞–∑–±–µ—Ä—ë–º—Å—è –≤ –≥–ª–∞–≤–Ω–æ–π –∏–¥–µ–µ. –û–Ω–∞ –Ω–∞ —É–¥–∏–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç–∞—è.</p>
    </div>

    <div class="loop-diagram">
        <div class="loop-flow">
            <span class="loop-node llm term" data-tip="–ë–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å">LLM</span>
            <span class="loop-arrow">‚Üí</span>
            <span class="loop-node output term" data-tip="–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, tool_calls)">structured output</span>
            <span class="loop-arrow">‚Üí</span>
            <span class="loop-node tool term" data-tip="–í—ã–ø–æ–ª–Ω–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç">execute tool</span>
            <span class="loop-arrow">‚Üí</span>
            <span class="loop-node context term" data-tip="–î–æ–±–∞–≤–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π">add to context</span>
            <span class="loop-arrow">‚Üí</span>
            <span class="loop-node llm term" data-tip="–ë–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å">LLM</span>
            <span class="loop-arrow">‚Üí ‚Ä¶</span>
        </div>
        <span class="loop-label">‚Üë –≤–æ—Ç –∏ –≤–µ—Å—å –∞–≥–µ–Ω—Ç ‚Äî —ç—Ç–æ —Ü–∏–∫–ª</span>
    </div>

    <div style="max-width: 680px; margin: 0 auto;">
        <p style="color: var(--text); margin-bottom: 1rem;">
            –ê–≥–µ–Ω—Ç ‚Äî —ç—Ç–æ <span class="term" data-tip="–ë–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å">LLM</span> –≤ —Ü–∏–∫–ª–µ. –ú–æ–¥–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å, —Ä–µ—à–∞–µ—Ç –∫–∞–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ã–∑–≤–∞—Ç—å (–∏–ª–∏ –Ω–µ –≤—ã–∑–≤–∞—Ç—å),
            –º—ã –≤—ã–ø–æ–ª–Ω—è–µ–º —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –¥–æ–±–∞–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ <span class="term" data-tip="–ë–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å">LLM</span>.
            –ò —Ç–∞–∫ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –º–æ–¥–µ–ª—å —Å–∞–º–∞ –Ω–µ —Ä–µ—à–∏—Ç, —á—Ç–æ –ø–æ—Ä–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
        </p>
        <p style="color: var(--text-dim); margin-bottom: 1rem;">
            –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ <span class="term" data-tip="API –±–æ–ª—å—à–∏—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π">LLM API</span> (Anthropic, OpenAI) —É–∂–µ –∏–º–µ—é—Ç <strong style="color: var(--text);">–Ω–∞—Ç–∏–≤–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É <span class="term" data-tip="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã/—Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å">tools</span></strong> ‚Äî
            —Ç—ã –æ–ø–∏—Å—ã–≤–∞–µ—à—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ –∑–∞–ø—Ä–æ—Å–µ, –∏ –º–æ–¥–µ–ª—å —Å–∞–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <span class="term" data-tip="–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—ã–∑–æ–≤–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤"><code style="color: var(--cyan);">tool_calls</code></span>
            –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ. –ù–µ –Ω—É–∂–Ω–æ –ø—Ä–æ—Å–∏—Ç—å ¬´–≤–µ—Ä–Ω–∏ JSON¬ª ‚Äî —ç—Ç–æ —É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω–æ.
        </p>
        <p style="color: var(--text-dim);">
            Claude Code, Cursor, GitHub Copilot ‚Äî –≤—Å–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —ç—Ç–æ–º –∂–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–µ. –†–∞–∑–Ω–∏—Ü–∞ –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ <span class="term" data-tip="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã/—Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å">tools</span>,
            quality of prompts –∏ UX –≤–æ–∫—Ä—É–≥. –Ø–¥—Ä–æ ‚Äî –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ. –î–∞–≤–∞–π –ø–æ—Å—Ç—Ä–æ–∏–º –µ–≥–æ —Å –Ω—É–ª—è.
        </p>
    </div>
</section>

<!-- ====== STEPS ====== -->
<div class="steps-container">

<!-- ======== STEP 1 ======== -->
<div class="step active" data-step="1" id="step-1">
    <div class="step-number">01</div>
    <div class="step-card">
        <div class="step-header">
        <div class="step-title">–ë–∞–∑–æ–≤—ã–π <span class="term" data-tip="–ë–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å">LLM</span>-–≤—ã–∑–æ–≤</div>
            <span class="step-badge beginner">–ù–∞—á–∞–ª–æ</span>
        </div>
        <p class="step-intro">
            –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –≤ <span class="term" data-tip="–ë–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å">LLM</span>, –ø–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç. –ü—Ä–æ—Å—Ç–æ —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç.
        </p>

        <div class="step-content">
            <div class="step-detail">
                <p>–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞—ë–º –ø—Ä–æ–µ–∫—Ç –∏ —Å—Ç–∞–≤–∏–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:</p>
            </div>

            <div class="run-command">
                <span class="run-icon">‚ñ∂</span>
                <code>mkdir simple-agent && cd simple-agent && npm init -y && npm install openai typescript tsx @types/node dotenv</code>
            </div>

            <div class="step-detail">
                <p>–°–æ–∑–¥–∞–π –ø–∞–ø–∫—É <code>src</code> –∏ –¥–æ–±–∞–≤—å <code>.gitignore</code>, —á—Ç–æ–±—ã —Å–ª—É—á–∞–π–Ω–æ –Ω–µ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∫–ª—é—á:</p>
            </div>

            <div class="run-command">
                <span class="run-icon">‚ñ∂</span>
                <code>mkdir src</code>
            </div>

            <div class="code-block">
                <div class="code-filename"><span class="dot"></span>.gitignore</div>
                <pre>node_modules
.env</pre>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>

            <div class="step-detail">
                <p>–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–π —Ñ–∞–π–ª <code>.env</code> —Å –∫–ª—é—á–æ–º –æ—Ç OpenRouter:</p>
            </div>

            <div class="code-block">
                <div class="code-filename"><span class="dot"></span>.env</div>
                <pre>OPENROUTER_API_KEY=sk-or-v1-–≤–∞—à-–∫–ª—é—á-–æ—Ç-openrouter</pre>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>

            <div class="step-detail">
                <p>–¢–µ–ø–µ—Ä—å ‚Äî –ø–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤:</p>
            </div>

            <div class="code-block">
                <div class="code-filename"><span class="dot"></span>src/01-basic-call.ts</div>
                <pre><span class="kw">import</span> OpenAI <span class="kw">from</span> <span class="str">"openai"</span>;
<span class="kw">import</span> dotenv <span class="kw">from</span> <span class="str">"dotenv"</span>;

dotenv.<span class="fn">config</span>();

<span class="kw">const</span> client = <span class="kw">new</span> <span class="type">OpenAI</span>({
    <span class="prop">baseURL</span>: <span class="str">"https://openrouter.ai/api/v1"</span>,
    <span class="prop">apiKey</span>: process.env.<span class="prop">OPENROUTER_API_KEY</span> ?? <span class="str">""</span>,
});

<span class="kw">async function</span> <span class="fn">main</span>() {
    <span class="kw">const</span> response = <span class="kw">await</span> client.chat.completions.<span class="fn">create</span>({
        <span class="prop">model</span>: <span class="str">"anthropic/claude-sonnet-4.5"</span>,
        <span class="prop">messages</span>: [
            { <span class="prop">role</span>: <span class="str">"user"</span>, <span class="prop">content</span>: <span class="str">"–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 2 + 2?"</span> }
        ],
    });

    console.<span class="fn">log</span>(response.choices[<span class="num">0</span>].message.content);
}

<span class="fn">main</span>();</pre>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>

            <div class="run-command">
                <span class="run-icon">‚ñ∂</span>
                <code>npx tsx src/01-basic-call.ts</code>
            </div>

            <button class="demo-btn" data-demo="demo-step-1">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ</button>

            <div class="terminal-output demo-output" id="demo-step-1" aria-live="polite">
<span class="t-bold">4</span>
            </div>
            <div class="output-note" data-demo-note="demo-step-1">–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞. –£ —Ç–µ–±—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∞—á–µ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.</div>

            <div class="mini-block expect">
                <div class="mini-title">‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è</div>
                –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏ (–æ–±—ã—á–Ω–æ ¬´4¬ª) –±–µ–∑ –æ—à–∏–±–æ–∫.
            </div>

            <div class="mini-block trouble">
                <div class="mini-title">üßØ –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
                –ü—Ä–æ–≤–µ—Ä—å <code>OPENROUTER_API_KEY</code> –≤ <code>.env</code>, –Ω–∞–ª–∏—á–∏–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ –≤–µ—Ä—Å–∏–∏ <code>node</code>/<code>npm</code>.
            </div>

            <div class="key-insight">
                <strong>üí° –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:</strong> –ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ OpenRouter (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ–∫—Å–∏ –∫–æ –≤—Å–µ–º LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º),
                –ø–æ–ª—É—á–∏–ª–∏ –æ—Ç–≤–µ—Ç. –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É <code>openai</code> ‚Äî –æ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å –ª—é–±—ã–º API, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º OpenAI-—Ñ–æ—Ä–º–∞—Ç.
            </div>
        </div>
    </div>
</div>

<!-- ======== STEP 2 ======== -->
<div class="step" data-step="2" id="step-2">
    <div class="step-number">02</div>
    <div class="step-card">
        <div class="step-header">
            <div class="step-title">–î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–≤—ã–π Tool</div>
            <span class="step-badge beginner">–ù–∞—á–∞–ª–æ</span>
        </div>
        <p class="step-intro">
            –î–∞—ë–º –º–æ–¥–µ–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å ¬´–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å¬ª ‚Äî –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ (<span class="term" data-tip="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç/—Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –≤—ã–∑—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å">tool</span>). –ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç: –º–æ–¥–µ–ª—å –Ω–µ –≤—ã–¥—É–º—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –∞ –ø—Ä–æ—Å–∏—Ç –Ω–∞—Å –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é.
        </p>

        <div class="step-content">
            <div class="step-detail">
                <p>
                    Tool –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è JSON Schema –ø—Ä—è–º–æ –≤ –∑–∞–ø—Ä–æ—Å–µ –∫ API. –ú–æ–¥–µ–ª—å –≤–∏–¥–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∏ —Ä–µ—à–∞–µ—Ç —Å–∞–º–∞ ‚Äî –Ω—É–∂–Ω–æ –ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å <span class="term" data-tip="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç/—Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –≤—ã–∑—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å">tool</span> –∏–ª–∏ –æ—Ç–≤–µ—Ç–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–º.
                </p>
            </div>

            <div class="code-block">
                <div class="code-filename"><span class="dot"></span>src/02-with-tool.ts</div>
                <pre><span class="kw">import</span> OpenAI <span class="kw">from</span> <span class="str">"openai"</span>;
<span class="kw">import</span> dotenv <span class="kw">from</span> <span class="str">"dotenv"</span>;

dotenv.<span class="fn">config</span>();

<span class="kw">const</span> client = <span class="kw">new</span> <span class="type">OpenAI</span>({
    <span class="prop">baseURL</span>: <span class="str">"https://openrouter.ai/api/v1"</span>,
    <span class="prop">apiKey</span>: process.env.<span class="prop">OPENROUTER_API_KEY</span> ?? <span class="str">""</span>,
});

<span class="cm">// 1. –û–ø–∏—Å—ã–≤–∞–µ–º tools ‚Äî —ç—Ç–æ JSON Schema</span>
<span class="kw">const</span> tools: <span class="type">OpenAI.ChatCompletionTool</span>[] = [
    {
        <span class="prop">type</span>: <span class="str">"function"</span>,
        <span class="prop">function</span>: {
            <span class="prop">name</span>: <span class="str">"get_weather"</span>,
            <span class="prop">description</span>: <span class="str">"–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É –≤ –≥–æ—Ä–æ–¥–µ"</span>,
            <span class="prop">parameters</span>: {
                <span class="prop">type</span>: <span class="str">"object"</span>,
                <span class="prop">properties</span>: {
                    <span class="prop">city</span>: {
                        <span class="prop">type</span>: <span class="str">"string"</span>,
                        <span class="prop">description</span>: <span class="str">"–ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞"</span>,
                    },
                },
                <span class="prop">required</span>: [<span class="str">"city"</span>],
            },
        },
    },
];

<span class="cm">// 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è tool ‚Äî –æ–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</span>
<span class="kw">function</span> <span class="fn">get_weather</span>(<span class="param">city</span>: <span class="type">string</span>): <span class="type">string</span> {
    <span class="kw">const</span> data: <span class="type">Record</span>&lt;<span class="type">string</span>, <span class="type">string</span>&gt; = {
        <span class="str">"–ú–æ—Å–∫–≤–∞"</span>: <span class="str">"‚àí5¬∞C, —Å–Ω–µ–≥"</span>,
        <span class="str">"–ê–Ω–∞–ø–∞"</span>: <span class="str">"+8¬∞C, –æ–±–ª–∞—á–Ω–æ"</span>,
    };
    <span class="kw">return</span> data[city] ?? <span class="str">`–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è </span>${city}<span class="str">`</span>;
}

<span class="kw">async function</span> <span class="fn">main</span>() {
    <span class="kw">const</span> response = <span class="kw">await</span> client.chat.completions.<span class="fn">create</span>({
        <span class="prop">model</span>: <span class="str">"anthropic/claude-sonnet-4.5"</span>,
        <span class="prop">messages</span>: [
            { <span class="prop">role</span>: <span class="str">"user"</span>, <span class="prop">content</span>: <span class="str">"–ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –≤ –ê–Ω–∞–ø–µ?"</span> }
        ],
        tools,
        <span class="prop">tool_choice</span>: { <span class="prop">type</span>: <span class="str">"function"</span>, <span class="prop">function</span>: { <span class="prop">name</span>: <span class="str">"get_weather"</span> } }, <span class="cm">// –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –¥–µ–º–æ</span>
    });

    <span class="kw">const</span> message = response.choices[<span class="num">0</span>].message;

    <span class="cm">// 3. –°–º–æ—Ç—Ä–∏–º —á—Ç–æ –≤–µ—Ä–Ω—É–ª–∞ –º–æ–¥–µ–ª—å</span>
    console.<span class="fn">log</span>(<span class="str">"Content:"</span>, message.content);
    console.<span class="fn">log</span>(<span class="str">"Tool calls:"</span>, JSON.<span class="fn">stringify</span>(message.tool_calls, <span class="num">null</span>, <span class="num">2</span>));
}

<span class="fn">main</span>();</pre>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>

            <div class="step-detail">
                <p>–ü–æ–¥—Å–∫–∞–∑–∫–∞: –µ—Å–ª–∏ —É–±—Ä–∞—Ç—å <code>tool_choice</code>, –º–æ–¥–µ–ª—å –±—É–¥–µ—Ç —Ä–µ—à–∞—Ç—å —Å–∞–º–∞ ‚Äî —Ç–∞–∫ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–µ–µ, –Ω–æ –¥–µ–º–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º.</p>
            </div>

            <div class="run-command">
                <span class="run-icon">‚ñ∂</span>
                <code>npx tsx src/02-with-tool.ts</code>
            </div>

            <button class="demo-btn" data-demo="demo-step-2">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ</button>

            <div class="terminal-output demo-output" id="demo-step-2" aria-live="polite">
<span class="t-dim">Content:</span>
<span class="t-bold">Tool calls:</span> [
  {
    <span class="t-blue">"type"</span>: <span class="t-green">"function"</span>,
    <span class="t-blue">"id"</span>: <span class="t-green">"toolu_vrtx_01WeGmRZbe85apvYG8zVhFJd"</span>,
    <span class="t-blue">"function"</span>: {
      <span class="t-blue">"name"</span>: <span class="t-green">"get_weather"</span>,
      <span class="t-blue">"arguments"</span>: <span class="t-green">"{\"city\": \"–ê–Ω–∞–ø–∞\"}"</span>
    }
  }
]</div>
            <div class="output-note" data-demo-note="demo-step-2">–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞. –£ —Ç–µ–±—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∞—á–µ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.</div>

            <div class="mini-block expect">
                <div class="mini-title">‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è</div>
                –í –≤—ã–≤–æ–¥–µ –≤–∏–¥–Ω–æ <code>tool_calls</code> —Å –≤—ã–∑–æ–≤–æ–º <code>get_weather</code> –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º <code>city</code>.
            </div>

            <div class="mini-block trouble">
                <div class="mini-title">üßØ –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
                –ï—Å–ª–∏ <code>tool_calls</code> –ø—É—Å—Ç–æ–π ‚Äî –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –µ—Å—Ç—å <code>tool_choice</code>, –∏–ª–∏ —É–∫–∞–∂–∏ –≤ –ø—Ä–æ–º–ø—Ç–µ ¬´–≤—ã–∑–æ–≤–∏ get_weather¬ª.
            </div>

            <div class="key-insight">
                <strong>üí° –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ:</strong> Content –ø—É—Å—Ç–æ–π! –ú–æ–¥–µ–ª—å –Ω–µ —Å—Ç–∞–ª–∞ –≤—ã–¥—É–º—ã–≤–∞—Ç—å –ø–æ–≥–æ–¥—É.
                –û–Ω–∞ –≤–µ—Ä–Ω—É–ª–∞ <code>tool_calls</code> —Å –∏–º–µ–Ω–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ ‚Äî –ø–æ–ø—Ä–æ—Å–∏–ª–∞ <em>–Ω–∞—Å</em> –≤—ã–ø–æ–ª–Ω–∏—Ç—å <code>get_weather</code>.
                –í–æ—Ç —ç—Ç–æ –∏ –µ—Å—Ç—å structured output ‚Äî –Ω–∞—Ç–∏–≤–Ω—ã–π, –Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ—Å–∏—Ç—å ¬´–≤–µ—Ä–Ω–∏ JSON¬ª.
            </div>
        </div>
    </div>
</div>

<!-- ======== STEP 3 ======== -->
<div class="step" data-step="3" id="step-3">
    <div class="step-number">03</div>
    <div class="step-card">
        <div class="step-header">
            <div class="step-title">Agent Loop ‚Äî –∑–∞–º—ã–∫–∞–µ–º –ø–µ—Ç–ª—é</div>
            <span class="step-badge beginner">–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç</span>
        </div>
        <p class="step-intro">
            –í–æ—Ç —ç—Ç–æ –∏ –¥–µ–ª–∞–µ—Ç –∞–≥–µ–Ω—Ç–∞ –∞–≥–µ–Ω—Ç–æ–º. –ú–æ–¥–µ–ª—å –≤—ã–∑—ã–≤–∞–µ—Ç <span class="term" data-tip="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç/—Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –≤—ã–∑—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å">tool</span> ‚Üí –º—ã –≤—ã–ø–æ–ª–Ω—è–µ–º ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ <span class="term" data-tip="–ë–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å">LLM</span> ‚Üí repeat.
        </p>

        <div class="step-content">
            <div class="code-block">
                <div class="code-filename"><span class="dot"></span>src/03-agent-loop.ts</div>
                <pre><span class="kw">import</span> OpenAI <span class="kw">from</span> <span class="str">"openai"</span>;
<span class="kw">import</span> dotenv <span class="kw">from</span> <span class="str">"dotenv"</span>;

dotenv.<span class="fn">config</span>();

<span class="kw">const</span> client = <span class="kw">new</span> <span class="type">OpenAI</span>({
    <span class="prop">baseURL</span>: <span class="str">"https://openrouter.ai/api/v1"</span>,
    <span class="prop">apiKey</span>: process.env.<span class="prop">OPENROUTER_API_KEY</span> ?? <span class="str">""</span>,
});

<span class="kw">const</span> tools: <span class="type">OpenAI.ChatCompletionTool</span>[] = [
    {
        <span class="prop">type</span>: <span class="str">"function"</span>,
        <span class="prop">function</span>: {
            <span class="prop">name</span>: <span class="str">"get_weather"</span>,
            <span class="prop">description</span>: <span class="str">"–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É –≤ –≥–æ—Ä–æ–¥–µ"</span>,
            <span class="prop">parameters</span>: {
                <span class="prop">type</span>: <span class="str">"object"</span>,
                <span class="prop">properties</span>: {
                    <span class="prop">city</span>: { <span class="prop">type</span>: <span class="str">"string"</span>, <span class="prop">description</span>: <span class="str">"–ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞"</span> },
                },
                <span class="prop">required</span>: [<span class="str">"city"</span>],
            },
        },
    },
    {
        <span class="prop">type</span>: <span class="str">"function"</span>,
        <span class="prop">function</span>: {
            <span class="prop">name</span>: <span class="str">"get_time"</span>,
            <span class="prop">description</span>: <span class="str">"–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ –≥–æ—Ä–æ–¥–µ"</span>,
            <span class="prop">parameters</span>: {
                <span class="prop">type</span>: <span class="str">"object"</span>,
                <span class="prop">properties</span>: {
                    <span class="prop">city</span>: { <span class="prop">type</span>: <span class="str">"string"</span>, <span class="prop">description</span>: <span class="str">"–ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞"</span> },
                },
                <span class="prop">required</span>: [<span class="str">"city"</span>],
            },
        },
    },
];

<span class="cm">// –†–µ–µ—Å—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–π ‚Äî –º–∞–ø–ø–∏–Ω–≥ –∏–º—è ‚Üí —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</span>
<span class="kw">const</span> toolHandlers: <span class="type">Record</span>&lt;<span class="type">string</span>, (<span class="param">args</span>: <span class="type">any</span>) =&gt; <span class="type">string</span>&gt; = {
    <span class="fn">get_weather</span>: ({ city }) =&gt; {
        <span class="kw">const</span> data: <span class="type">Record</span>&lt;<span class="type">string</span>, <span class="type">string</span>&gt; = {
            <span class="str">"–ú–æ—Å–∫–≤–∞"</span>: <span class="str">"‚àí5¬∞C, —Å–Ω–µ–≥"</span>,
            <span class="str">"–ê–Ω–∞–ø–∞"</span>: <span class="str">"+8¬∞C, –æ–±–ª–∞—á–Ω–æ"</span>,
        };
        <span class="kw">return</span> data[city] ?? <span class="str">`–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è ${city}`</span>;
    },
    <span class="fn">get_time</span>: ({ city }) =&gt; {
        <span class="kw">return</span> <span class="str">`–°–µ–π—á–∞—Å –≤ ${city}: ${</span><span class="kw">new</span> <span class="type">Date</span>().<span class="fn">toLocaleTimeString</span>(<span class="str">"ru-RU"</span>)<span class="str">}`</span>;
    },
};

<span class="kw">async function</span> <span class="fn">agentLoop</span>(<span class="param">userMessage</span>: <span class="type">string</span>) {
    <span class="kw">const</span> messages: <span class="type">OpenAI.ChatCompletionMessageParam</span>[] = [
        { <span class="prop">role</span>: <span class="str">"system"</span>, <span class="prop">content</span>: <span class="str">"–¢—ã –ø–æ–ª–µ–∑–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç. –ò—Å–ø–æ–ª—å–∑—É–π tools –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ."</span> },
        { <span class="prop">role</span>: <span class="str">"user"</span>, <span class="prop">content</span>: userMessage },
    ];

    <span class="kw">let</span> iteration = <span class="num">0</span>;
    <span class="kw">const</span> MAX_ITERATIONS = <span class="num">10</span>; <span class="cm">// –∑–∞—â–∏—Ç–∞ –æ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ü–∏–∫–ª–∞</span>

    <span class="kw">while</span> (iteration &lt; MAX_ITERATIONS) {
        iteration++;
        console.<span class="fn">log</span>(<span class="str">`\n--- –ò—Ç–µ—Ä–∞—Ü–∏—è ${iteration} ---`</span>);

        <span class="kw">const</span> response = <span class="kw">await</span> client.chat.completions.<span class="fn">create</span>({
            <span class="prop">model</span>: <span class="str">"anthropic/claude-sonnet-4.5"</span>,
            messages,
            tools,
        });

        <span class="kw">const</span> message = response.choices[<span class="num">0</span>].message;
        messages.<span class="fn">push</span>(message); <span class="cm">// –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç</span>

        <span class="cm">// –ï—Å–ª–∏ –Ω–µ—Ç tool_calls ‚Äî –º–æ–¥–µ–ª—å —Ä–µ—à–∏–ª–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è</span>
        <span class="kw">if</span> (!message.tool_calls || message.tool_calls.length === <span class="num">0</span>) {
            console.<span class="fn">log</span>(<span class="str">"–û—Ç–≤–µ—Ç:"</span>, message.content);
            <span class="kw">return</span>;
        }

        <span class="cm">// –í—ã–ø–æ–ª–Ω—è–µ–º –∫–∞–∂–¥—ã–π tool call</span>
        <span class="kw">for</span> (<span class="kw">const</span> toolCall <span class="kw">of</span> message.tool_calls) {
            <span class="kw">const</span> name = toolCall.function.name;
            <span class="kw">const</span> args = JSON.<span class="fn">parse</span>(toolCall.function.arguments);

            console.<span class="fn">log</span>(<span class="str">`Tool: ${name}(${</span>JSON.<span class="fn">stringify</span>(args)<span class="str">})`</span>);

            <span class="kw">const</span> result = toolHandlers[name]?.(args)
                ?? <span class="str">`Tool "${name}" –Ω–µ –Ω–∞–π–¥–µ–Ω`</span>;
            console.<span class="fn">log</span>(<span class="str">`–†–µ–∑—É–ª—å—Ç–∞—Ç: ${result}`</span>);

            <span class="cm">// –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç</span>
            messages.<span class="fn">push</span>({
                <span class="prop">role</span>: <span class="str">"tool"</span>,
                <span class="prop">tool_call_id</span>: toolCall.id,
                <span class="prop">content</span>: result,
            });
        }
        <span class="cm">// –¶–∏–∫–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ LLM</span>
    }
}

<span class="fn">agentLoop</span>(<span class="str">"–ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –≤ –ú–æ—Å–∫–≤–µ –∏ –ê–Ω–∞–ø–µ? –ò —Å–∫–æ–ª—å–∫–æ —Å–µ–π—á–∞—Å –≤—Ä–µ–º–µ–Ω–∏?"</span>);</pre>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>

            <div class="run-command">
                <span class="run-icon">‚ñ∂</span>
                <code>npx tsx src/03-agent-loop.ts</code>
            </div>

            <button class="demo-btn" data-demo="demo-step-3">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ</button>

            <div class="terminal-output demo-output" id="demo-step-3" aria-live="polite">
<span class="t-dim">--- –ò—Ç–µ—Ä–∞—Ü–∏—è 1 ---</span>
<span class="t-yellow">Tool: get_weather({"city":"–ú–æ—Å–∫–≤–∞"})</span>
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚àí5¬∞C, —Å–Ω–µ–≥
<span class="t-yellow">Tool: get_weather({"city":"–ê–Ω–∞–ø–∞"})</span>
–†–µ–∑—É–ª—å—Ç–∞—Ç: +8¬∞C, –æ–±–ª–∞—á–Ω–æ
<span class="t-yellow">Tool: get_time({"city":"–ú–æ—Å–∫–≤–∞"})</span>
–†–µ–∑—É–ª—å—Ç–∞—Ç: –°–µ–π—á–∞—Å –≤ –ú–æ—Å–∫–≤–∞: 09:39:53

<span class="t-dim">--- –ò—Ç–µ—Ä–∞—Ü–∏—è 2 ---</span>
<span class="t-bold">–û—Ç–≤–µ—Ç: –ü–æ–≥–æ–¥–∞: –ú–æ—Å–∫–≤–∞ ‚àí5¬∞C, —Å–Ω–µ–≥ | –ê–Ω–∞–ø–∞ +8¬∞C, –æ–±–ª–∞—á–Ω–æ. –í—Ä–µ–º—è: 09:39:53</span></div>
            <div class="output-note" data-demo-note="demo-step-3">–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞. –£ —Ç–µ–±—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∞—á–µ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.</div>

            <div class="mini-block expect">
                <div class="mini-title">‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è</div>
                –ù–∞ –ø–µ—Ä–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –µ—Å—Ç—å <code>tool_calls</code>, –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –±–µ–∑ tool‚Äë–≤—ã–∑–æ–≤–æ–≤.
            </div>

            <div class="mini-block trouble">
                <div class="mini-title">üßØ –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
                –ü—Ä–æ–≤–µ—Ä—å –ø–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (<code>JSON.parse</code>) –∏ —á—Ç–æ handlers –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å—Ç—Ä–æ–∫—É.
            </div>

            <div class="what-happens">
                <strong>üîç –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:</strong>
                <strong>–ò—Ç–µ—Ä–∞—Ü–∏—è 1</strong> ‚Äî –º–æ–¥–µ–ª—å –≤–µ—Ä–Ω—É–ª–∞ —Å—Ä–∞–∑—É 3 tool_calls (–ø–æ–Ω—è–ª–∞, —á—Ç–æ –Ω—É–∂–Ω—ã –≤—Å–µ —Ç—Ä–∏). –ú—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏, –¥–æ–±–∞–≤–∏–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç.
                <strong>–ò—Ç–µ—Ä–∞—Ü–∏—è 2</strong> ‚Äî –º–æ–¥–µ–ª—å –ø–æ–ª—É—á–∏–ª–∞ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, —Ä–µ—à–∏–ª–∞ —á—Ç–æ —Ö–≤–∞—Ç–∏—Ç, –∏ –æ—Ç–≤–µ—Ç–∏–ª–∞ —Ç–µ–∫—Å—Ç–æ–º. –¶–∏–∫–ª –∑–∞–≤–µ—Ä—à–∏–ª—Å—è.
            </div>

            <div class="key-insight">
                <strong>üí° –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:</strong>
                <code>while</code> loop ‚Äî –∫—Ä—É—Ç–∏–º—Å—è –ø–æ–∫–∞ –º–æ–¥–µ–ª—å –Ω–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å <code>tool_calls</code>.
                <code>messages</code> –º–∞—Å—Å–∏–≤ —Ä–∞—Å—Ç—ë—Ç ‚Äî –∫–∞–∂–¥—ã–π tool result –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è, –º–æ–¥–µ–ª—å –≤–∏–¥–∏—Ç –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é.
                –ú–æ–¥–µ–ª—å <em>—Å–∞–º–∞ —Ä–µ—à–∞–µ—Ç</em> –∫–æ–≥–¥–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
                <code>MAX_ITERATIONS</code> ‚Äî –∑–∞—â–∏—Ç–∞, —á—Ç–æ–±—ã –∞–≥–µ–Ω—Ç –Ω–µ —É—à—ë–ª –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å.
            </div>
        </div>
    </div>
</div>

<!-- ======== STEP 4 ======== -->
<div class="step" data-step="4" id="step-4">
    <div class="step-number">04</div>
    <div class="step-card">
        <div class="step-header">
            <div class="step-title">–†–µ–∞–ª—å–Ω—ã–µ Tools ‚Äî bash –∏ —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞</div>
            <span class="step-badge intermediate">–ü—Ä–∞–∫—Ç–∏–∫–∞</span>
        </div>
        <p class="step-intro">
            –ó–∞–º–µ–Ω—è–µ–º —Ñ–µ–π–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç–æ—è—â–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏. –ê–≥–µ–Ω—Ç —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏ —á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ <span class="term" data-tip="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç/—Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –≤—ã–∑—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å">tools</span>.
        </p>

        <div class="step-content">
            <div class="step-detail">
                <p>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞ –∂–µ ‚Äî agent loop. –ù–æ tools —Ç–µ–ø–µ—Ä—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π:</p>
            </div>

            <div class="code-block">
                <div class="code-filename"><span class="dot"></span>src/04-real-tools.ts (–∫–ª—é—á–µ–≤—ã–µ —á–∞—Å—Ç–∏)</div>
                <pre><span class="kw">import</span> { execSync } <span class="kw">from</span> <span class="str">"child_process"</span>;
<span class="kw">import</span> { readFileSync } <span class="kw">from</span> <span class="str">"fs"</span>;

<span class="kw">const</span> ALLOWLIST = [
    /^ls\b/,
    /^pwd\b/,
    /^cat\b/,
    /^head\b/,
    /^tail\b/,
    /^wc\b/,
    /^sed\b/,
];

<span class="kw">const</span> isAllowed = (<span class="param">command</span>: <span class="type">string</span>) =&gt;
    ALLOWLIST.<span class="fn">some</span>((re) =&gt; re.<span class="fn">test</span>(command.<span class="fn">trim</span>()));

<span class="kw">const</span> toolHandlers: <span class="type">Record</span>&lt;<span class="type">string</span>, (<span class="param">args</span>: <span class="type">any</span>) =&gt; <span class="type">string</span>&gt; = {
    <span class="fn">run_bash</span>: ({ command }) =&gt; {
        <span class="kw">if</span> (!<span class="fn">isAllowed</span>(command)) {
            <span class="kw">return</span> <span class="str">`–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–∞ allowlist: ${command}`</span>;
        }
        <span class="kw">try</span> {
            <span class="kw">return</span> <span class="fn">execSync</span>(command, {
                <span class="prop">encoding</span>: <span class="str">"utf-8"</span>,
                <span class="prop">timeout</span>: <span class="num">5000</span>,
            }).<span class="fn">trim</span>();
        } <span class="kw">catch</span> (e: <span class="type">any</span>) {
            <span class="kw">return</span> <span class="str">`–û—à–∏–±–∫–∞: ${e.message}`</span>;
        }
    },
    <span class="fn">read_file</span>: ({ path }) =&gt; {
        <span class="kw">try</span> {
            <span class="kw">return</span> <span class="fn">readFileSync</span>(path, <span class="str">"utf-8"</span>);
        } <span class="kw">catch</span> (e: <span class="type">any</span>) {
            <span class="kw">return</span> <span class="str">`–û—à–∏–±–∫–∞: ${e.message}`</span>;
        }
    },
};

<span class="cm">// –ê–≥–µ–Ω—Ç —Ä–µ–∞–ª—å–Ω–æ –∏—Å—Å–ª–µ–¥—É–µ—Ç –≤–∞—à—É —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É</span>
<span class="fn">agentLoop</span>(<span class="str">"–ü–æ—Å–º–æ—Ç—Ä–∏ —á—Ç–æ –∑–∞ –ø—Ä–æ–µ–∫—Ç –ª–µ–∂–∏—Ç –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏"</span>);</pre>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>

            <div class="step-detail">
                <p><strong>–í–∞–∂–Ω–æ:</strong> –∑–¥–µ—Å—å –µ—Å—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π sandbox —á–µ—Ä–µ–∑ allowlist –∫–æ–º–∞–Ω–¥. –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ ‚Äî –∞–≥–µ–Ω—Ç –ø–æ–ª—É—á–∏—Ç –æ—à–∏–±–∫—É –∏ —Å–º–æ–∂–µ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç—å –¥—Ä—É–≥–æ–π –ø—É—Ç—å.</p>
            </div>

            <div class="run-command">
                <span class="run-icon">‚ñ∂</span>
                <code>npx tsx src/04-real-tools.ts</code>
            </div>

            <button class="demo-btn" data-demo="demo-step-4">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ</button>

            <div class="terminal-output demo-output" id="demo-step-4" aria-live="polite">
<span class="t-dim">--- –ò—Ç–µ—Ä–∞—Ü–∏—è 1 ---</span>
<span class="t-yellow">Tool: run_bash({"command":"ls -la"})</span>
‚Üí total 72, drwxr-xr-x 10 ...

<span class="t-dim">--- –ò—Ç–µ—Ä–∞—Ü–∏—è 2 ---</span>
<span class="t-yellow">Tool: run_bash({"command":"cat package.json"})</span>
‚Üí { "name": "simple-agent", ...

<span class="t-dim">--- –ò—Ç–µ—Ä–∞—Ü–∏—è 3 ---</span>
<span class="t-yellow">Tool: run_bash({"command":"ls -la src/"})</span>
‚Üí 01-basic-call.ts, 02-with-tool.ts ...

<span class="t-dim">--- –ò—Ç–µ—Ä–∞—Ü–∏—è 4 ---</span>
<span class="t-bold">–û—Ç–≤–µ—Ç: –ü—Ä–æ–µ–∫—Ç simple-agent ‚Äî —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤...</span></div>
            <div class="output-note" data-demo-note="demo-step-4">–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞. –£ —Ç–µ–±—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∞—á–µ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.</div>

            <div class="mini-block expect">
                <div class="mini-title">‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è</div>
                –ê–≥–µ–Ω—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–≤–æ–¥ <code>ls</code>/<code>cat</code>, –∞ –∑–∞—Ç–µ–º –∫–æ—Ä–æ—Ç–∫–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç.
            </div>

            <div class="mini-block trouble">
                <div class="mini-title">üßØ –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
                –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–∞ ‚Äî –¥–æ–±–∞–≤—å –µ—ë –≤ allowlist. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ ‚Äî –ø–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã.
            </div>

            <div class="key-insight">
                <strong>üí° Resilience –∞–≥–µ–Ω—Ç–∞:</strong> –ï—Å–ª–∏ tool –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É ‚Äî –∞–≥–µ–Ω—Ç –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è.
                –û–Ω –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è, –∏—â–µ—Ç –æ–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–º–µ—Å—Ç–æ <code>read_file</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <code>cat</code> —á–µ—Ä–µ–∑ bash).
                LLM —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ—à–∏–±–∫–∞–º–∏ ‚Äî —ç—Ç–æ –æ–¥–Ω–æ –∏–∑ –µ–≥–æ —Å—É–ø–µ—Ä—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π.
            </div>
        </div>
    </div>
</div>

<!-- ======== STEP 5 ======== -->
<div class="step" data-step="5" id="step-5">
    <div class="step-number">05</div>
    <div class="step-card">
        <div class="step-header">
            <div class="step-title">Skills ‚Äî –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</div>
            <span class="step-badge intermediate">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</span>
        </div>
        <p class="step-intro">
            <span class="term" data-tip="–ü–∞–∫–µ—Ç: –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ + tools + –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏">Skill</span> ‚Äî —ç—Ç–æ tool + –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è. –ù–∞–±–æ—Ä —Å–≤—è–∑–∞–Ω–Ω—ã—Ö capabilities –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É. –ê–≥–µ–Ω—Ç –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è ‚Äî –º–µ–Ω—è—é—Ç—Å—è skills.
        </p>

        <div class="step-content">
            <div class="code-block">
                <div class="code-filename"><span class="dot"></span>src/05-skills.ts (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)</div>
                <pre><span class="cm">// Skill ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –æ–ø–∏—Å–∞–Ω–∏–µ + tools + handlers</span>
<span class="kw">interface</span> <span class="type">Skill</span> {
    <span class="prop">name</span>: <span class="type">string</span>;
    <span class="prop">description</span>: <span class="type">string</span>;           <span class="cm">// –¥–ª—è system prompt</span>
    <span class="prop">tools</span>: <span class="type">OpenAI.ChatCompletionTool</span>[];
    <span class="prop">handlers</span>: <span class="type">Record</span>&lt;<span class="type">string</span>, (<span class="param">args</span>: <span class="type">any</span>) =&gt; <span class="type">string</span>&gt;;
}

<span class="cm">// –ü—Ä–∏–º–µ—Ä: filesystem skill</span>
<span class="kw">const</span> filesystemSkill: <span class="type">Skill</span> = {
    <span class="prop">name</span>: <span class="str">"filesystem"</span>,
    <span class="prop">description</span>: <span class="str">"–£–º–µ–µ—à—å —á–∏—Ç–∞—Ç—å, –ø–∏—Å–∞—Ç—å, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ñ–∞–π–ª—ã."</span>,
    <span class="prop">tools</span>: [<span class="cm">/* read_file, write_file, list_dir */</span>],
    <span class="prop">handlers</span>: {<span class="cm">/* —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ */</span>},
};

<span class="cm">// –ê–≥–µ–Ω—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –ø–æ–¥–∫–ª—é—á–∞–µ–º—ã—Ö skills</span>
<span class="kw">function</span> <span class="fn">createAgent</span>(<span class="param">skills</span>: <span class="type">Skill</span>[]) {
    <span class="cm">// –°–æ–±–∏—Ä–∞–µ–º tools –∏ handlers –∏–∑ –í–°–ï–• skills</span>
    <span class="kw">const</span> allTools = skills.<span class="fn">flatMap</span>(s =&gt; s.tools);
    <span class="kw">const</span> allHandlers = Object.<span class="fn">assign</span>({}, ...skills.<span class="fn">map</span>(s =&gt; s.handlers));

    <span class="cm">// System prompt —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –æ–ø–∏—Å–∞–Ω–∏–π skills</span>
    <span class="kw">const</span> systemPrompt = <span class="str">`–£ —Ç–µ–±—è –µ—Å—Ç—å –Ω–∞–≤—ã–∫–∏:\n${
        skills.map(s => `- ${s.name}: ${s.description}`).join('\n')
    }`</span>;

    <span class="kw">return async function</span> <span class="fn">run</span>(<span class="param">userMessage</span>: <span class="type">string</span>) {
        <span class="cm">// —Ç–æ—Ç –∂–µ agent loop, –Ω–æ —Å allTools –∏ allHandlers</span>
    };
}

<span class="cm">// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ‚Äî –ø–æ–¥–∫–ª—é—á–∞–π —á—Ç–æ –Ω—É–∂–Ω–æ</span>
<span class="kw">const</span> agent = <span class="fn">createAgent</span>([filesystemSkill, bashSkill, mathSkill]);
<span class="kw">await</span> <span class="fn">agent</span>(<span class="str">"–ü–æ—Å—á–∏—Ç–∞–π —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ –∏ —Å–æ–∑–¥–∞–π –æ—Ç—á—ë—Ç"</span>);</pre>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>

            <button class="demo-btn" data-demo="demo-step-5">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ</button>

            <div class="terminal-output demo-output" id="demo-step-5" aria-live="polite">
<span class="t-dim">--- –ò—Ç–µ—Ä–∞—Ü–∏—è 1 ---</span>  <span class="t-yellow">list_dir(".")</span>
<span class="t-dim">--- –ò—Ç–µ—Ä–∞—Ü–∏—è 2 ---</span>  <span class="t-yellow">list_dir("src")</span>
<span class="t-dim">--- –ò—Ç–µ—Ä–∞—Ü–∏—è 3 ---</span>  <span class="t-yellow">read_file √ó 5 —Ñ–∞–π–ª–æ–≤</span>
<span class="t-dim">--- –ò—Ç–µ—Ä–∞—Ü–∏—è 4 ---</span>  <span class="t-yellow">run_bash("wc -l src/*.ts")</span> ‚Üí 542 —Å—Ç—Ä–æ–∫–∏
<span class="t-dim">--- –ò—Ç–µ—Ä–∞—Ü–∏—è 5 ---</span>  <span class="t-yellow">write_file("STATS.md")</span> ‚Üí ‚úÖ
<span class="t-dim">--- –ò—Ç–µ—Ä–∞—Ü–∏—è 6 ---</span>  <span class="t-bold">–ì–æ—Ç–æ–≤–æ! STATS.md —Å–æ–∑–¥–∞–Ω —Å –ø–æ–ª–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º.</span></div>
            <div class="output-note" data-demo-note="demo-step-5">–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞. –£ —Ç–µ–±—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∞—á–µ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.</div>

            <div class="mini-block expect">
                <div class="mini-title">‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è</div>
                –ü–æ–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∞–≥–µ–Ω—Ç –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –∏–∑ –º–æ–¥—É–ª–µ–π: skills –¥–æ–±–∞–≤–ª—è—é—Ç tools –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.
            </div>

            <div class="mini-block trouble">
                <div class="mini-title">üßØ –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
                –ï—Å–ª–∏ –¥–µ–ª–∞–µ—à—å —Ä–∞–±–æ—á—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é ‚Äî –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –∏–º—ë–Ω tools –º–µ–∂–¥—É skills.
            </div>

            <div class="key-insight">
                <strong>üí° –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è:</strong>
                <code>createAgent([...skills])</code> ‚Äî –∏ –≥–æ—Ç–æ–≤–æ. –•–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å API ‚Äî —Å–æ–∑–¥–∞—ë—à—å –Ω–æ–≤—ã–π Skill.
                –•–æ—á–µ—à—å —É–±—Ä–∞—Ç—å bash ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—à—å. –ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç tools –∏–∑ —Ä–∞–∑–Ω—ã—Ö skills –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.
            </div>
        </div>
    </div>
</div>

<!-- ======== STEP 6 ======== -->
<div class="step" data-step="6" id="step-6">
    <div class="step-number">06</div>
    <div class="step-card">
        <div class="step-header">
        <div class="step-title">Multi-step Planning</div>
            <span class="step-badge advanced">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</span>
        </div>
        <p class="step-intro">
            –ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å, –∞–≥–µ–Ω—Ç —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–ª–∞–Ω. –î–≤–∞ –ø–æ–¥—Ö–æ–¥–∞: <span class="term" data-tip="–°–Ω–∞—á–∞–ª–∞ –ø–ª–∞–Ω, –ø–æ—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ —à–∞–≥–∞–º">Plan-then-Execute</span> –∏ <span class="term" data-tip="–ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –∏ –¥–µ–π—Å—Ç–≤–∏–π">ReAct</span>.
        </p>

        <div class="step-content">
            <div class="arch-diagram">
                <div class="arch-row">
                    <span class="loop-node llm">Plan-then-Execute</span>
                </div>
                <div style="color: var(--text-dim); margin: 0.5rem 0;">–û—Ç–¥–µ–ª—å–Ω—ã–π LLM-–≤—ã–∑–æ–≤ –¥–ª—è –ø–ª–∞–Ω–∞ ‚Üí –ø–æ—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
                <div class="arch-row" style="margin-top: 1rem;">
                    <span class="loop-node output">ReAct</span>
                </div>
                <div style="color: var(--text-dim); margin: 0.5rem 0;">Think ‚Üí Act ‚Üí Think ‚Üí Act –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ</div>
            </div>

            <div class="step-detail">
                <p><strong><span class="term" data-tip="–°–Ω–∞—á–∞–ª–∞ –ø–ª–∞–Ω, –ø–æ—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ —à–∞–≥–∞–º">Plan-then-Execute</span></strong> ‚Äî –¥–≤–∞ —ç—Ç–∞–ø–∞. –°–Ω–∞—á–∞–ª–∞ <span class="term" data-tip="–ë–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å">LLM</span> (–±–µ–∑ tools) —Å–æ–∑–¥–∞—ë—Ç JSON-–ø–ª–∞–Ω. –ü–æ—Ç–æ–º –¥—Ä—É–≥–æ–π –≤—ã–∑–æ–≤ –ø–æ–ª—É—á–∞–µ—Ç –ø–ª–∞–Ω –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ —à–∞–≥–∞–º.</p>
                <p><strong><span class="term" data-tip="–ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –∏ –¥–µ–π—Å—Ç–≤–∏–π">ReAct</span></strong> ‚Äî –æ–¥–∏–Ω —Ü–∏–∫–ª, –Ω–æ —Å <code>think</code> tool. –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–π—Å—Ç–≤–∏–µ–º –∞–≥–µ–Ω—Ç ¬´–¥—É–º–∞–µ—Ç –≤—Å–ª—É—Ö¬ª: —á—Ç–æ –∑–Ω–∞—é, —á—Ç–æ –¥–µ–ª–∞—Ç—å, –ø–æ—á–µ–º—É.</p>
            </div>

            <div class="code-block">
                <div class="code-filename"><span class="dot"></span>think tool ‚Äî —Ö–∏—Ç—Ä—ã–π –ø—Ä–∏—ë–º</div>
                <pre><span class="cm">// Think tool –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç! –ü—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "OK".</span>
<span class="cm">// –ù–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ–¥–µ–ª—å –í–ï–†–ë–ê–õ–ò–ó–û–í–ê–¢–¨ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–µ</span>
<span class="cm">// –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º ‚Äî –∏ —ç—Ç–æ —Å–∏–ª—å–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ.</span>
{
    <span class="prop">name</span>: <span class="str">"think"</span>,
    <span class="prop">description</span>: <span class="str">"–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –±–ª–æ–∫–Ω–æ—Ç –¥–ª—è —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π"</span>,
}

<span class="cm">// Handler:</span>
<span class="fn">think</span>: () =&gt; <span class="str">"OK"</span>  <span class="cm">// –≤–æ—Ç –∏ –≤—Å—ë</span></pre>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>

            <button class="demo-btn" data-demo="demo-step-6">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ</button>

            <div class="terminal-output demo-output" id="demo-step-6" aria-live="polite">
<span class="t-cyan">üìã –ü–õ–ê–ù: –ê–Ω–∞–ª–∏–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞</span>
<span class="t-dim">‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span>
  1. [run_bash] –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ .ts —Ñ–∞–π–ª–æ–≤
  2. [read_file] –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª
  3. [run_bash] –ù–∞–π—Ç–∏ –æ–±—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
  4. [write_file] –°–æ–∑–¥–∞—Ç—å REFACTORING.md

<span class="t-cyan">‚ö° –í–´–ü–û–õ–ù–ï–ù–ò–ï</span>
  <span class="t-dim">üí≠ –ù–∞—á–Ω—É —Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ñ–∞–π–ª–æ–≤, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –º–∞—Å—à—Ç–∞–±...</span>
  <span class="t-yellow">üîß run_bash("ls src/*.ts")</span>
  <span class="t-dim">üí≠ 5 —Ñ–∞–π–ª–æ–≤. –ü—Ä–æ—á–∏—Ç–∞—é –∫–∞–∂–¥—ã–π –∏ –Ω–∞–π–¥—É –ø–∞—Ç—Ç–µ—Ä–Ω—ã...</span>
  <span class="t-yellow">üîß read_file("src/01-basic-call.ts")</span>
  ...
            </div>
            <div class="output-note" data-demo-note="demo-step-6">–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞. –£ —Ç–µ–±—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∞—á–µ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.</div>

            <div class="run-command">
                <span class="run-icon">‚ñ∂</span>
                <code>npx tsx src/06-planning.ts plan &nbsp;# –∏–ª–∏ "react"</code>
            </div>

            <div class="mini-block expect">
                <div class="mini-title">‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è</div>
                –ê–≥–µ–Ω—Ç —Å–Ω–∞—á–∞–ª–∞ –ø–µ—á–∞—Ç–∞–µ—Ç –ø–ª–∞–Ω, –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç —à–∞–≥–∏. –í —Ä–µ–∂–∏–º–µ <code>react</code> –≤–∏–¥–Ω—ã –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ ¬´–º—ã—Å–ª–∏¬ª.
            </div>

            <div class="mini-block trouble">
                <div class="mini-title">üßØ –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
                –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω —Ä–µ–∂–∏–º <code>plan</code> –∏–ª–∏ <code>react</code> –∏ —á—Ç–æ tool <code>think</code> –ø–æ–¥–∫–ª—é—á—ë–Ω.
            </div>

            <div class="key-insight">
                <strong>üí° <span class="term" data-tip="–°–Ω–∞—á–∞–ª–∞ –ø–ª–∞–Ω, –ø–æ—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ —à–∞–≥–∞–º">Plan-then-Execute</span></strong> ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ, –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø–ª–∞–Ω —é–∑–µ—Ä—É. –ú–∏–Ω—É—Å: –ø–ª–∞–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ç–æ—á–Ω—ã–º.
                <br><strong>üí° <span class="term" data-tip="–ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –∏ –¥–µ–π—Å—Ç–≤–∏–π">ReAct</span></strong> ‚Äî –∞–¥–∞–ø—Ç–∏–≤–Ω–æ, –∞–≥–µ–Ω—Ç –≤–∏–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ú–∏–Ω—É—Å: –º–µ–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ, –±–æ–ª—å—à–µ –∏—Ç–µ—Ä–∞—Ü–∏–π.
            </div>
        </div>
    </div>
</div>

<!-- ======== STEP 7 ======== -->
<div class="step" data-step="7" id="step-7">
    <div class="step-number">07</div>
    <div class="step-card">
        <div class="step-header">
            <div class="step-title">Adaptive Agent ‚Äî Plan + <span class="term" data-tip="–ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –∏ –¥–µ–π—Å—Ç–≤–∏–π">ReAct</span> + Replan</div>
            <span class="step-badge advanced">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</span>
        </div>
        <p class="step-intro">
            –û–±—ä–µ–¥–∏–Ω—è–µ–º –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞: –∞–≥–µ–Ω—Ç –ø–ª–∞–Ω–∏—Ä—É–µ—Ç, –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è–º–∏, –∏ –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–ª–∞–Ω –µ—Å–ª–∏ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ —Å–æ–≤–ø–∞–ª–∞ —Å –æ–∂–∏–¥–∞–Ω–∏—è–º–∏.
        </p>

        <div class="step-content">
            <div class="arch-diagram">
                <div class="loop-flow">
                    <span class="loop-node llm">Plan</span>
                    <span class="loop-arrow">‚Üí</span>
                    <span class="loop-node output">ReAct Execute</span>
                    <span class="loop-arrow">‚Üí</span>
                    <span class="loop-node tool">Replan?</span>
                    <span class="loop-arrow">‚Üí</span>
                    <span class="loop-node context">Execute</span>
                    <span class="loop-arrow">‚Üí</span>
                    <span class="loop-node llm">Done</span>
                </div>
            </div>

            <div class="step-detail">
                <p>–ö–ª—é—á–µ–≤–∞—è –Ω–æ–≤–∏–Ω–∫–∞ ‚Äî <code>request_replan</code> <span class="term" data-tip="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç/—Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –≤—ã–∑—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å">tool</span>. –ê–≥–µ–Ω—Ç —Å–∞–º —Ä–µ—à–∞–µ—Ç –∫–æ–≥–¥–∞ –ø–ª–∞–Ω —Å–ª–æ–º–∞–ª—Å—è –Ω–∞—Å—Ç–æ–ª—å–∫–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é.</p>
            </div>

            <div class="code-block">
                <div class="code-filename"><span class="dot"></span>request_replan tool</div>
                <pre>{
    <span class="prop">name</span>: <span class="str">"request_replan"</span>,
    <span class="prop">description</span>: <span class="str">"–í—ã–∑–æ–≤–∏ –∫–æ–≥–¥–∞ –ø–ª–∞–Ω –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å"</span>,
    <span class="prop">parameters</span>: {
        <span class="prop">reason</span>: <span class="str">"–ü–æ—á–µ–º—É –Ω—É–∂–µ–Ω –Ω–æ–≤—ã–π –ø–ª–∞–Ω"</span>,
        <span class="prop">completed_steps</span>: [<span class="str">"–ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ"</span>],
        <span class="prop">discoveries</span>: [<span class="str">"–ß—Ç–æ –Ω–æ–≤–æ–≥–æ —É–∑–Ω–∞–ª–∏"</span>],
    }
}

<span class="cm">// –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª:</span>
<span class="kw">while</span> (replanCount &lt;= MAX_REPLANS) {
    <span class="kw">const</span> result = <span class="kw">await</span> <span class="fn">executeWithReact</span>(task, plan);
    <span class="kw">if</span> (result.status === <span class="str">"completed"</span>) <span class="kw">return</span>;

    <span class="cm">// –†–µ–ø–ª–∞–Ω —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ç–æ–≥–æ, —á—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ</span>
    plan = <span class="kw">await</span> <span class="fn">createPlan</span>(task, {
        <span class="prop">previousPlan</span>: plan,
        <span class="prop">completedSteps</span>: result.replanContext.completedSteps,
        <span class="prop">discoveries</span>: result.replanContext.discoveries,
    });
}</pre>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>

            <div class="run-command">
                <span class="run-icon">‚ñ∂</span>
                <code>npx tsx src/07-adaptive-agent.ts</code>
            </div>

            <button class="demo-btn" data-demo="demo-step-7">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ</button>

            <div class="terminal-output demo-output" id="demo-step-7" aria-live="polite">
<span class="t-cyan">üìã –ü–õ–ê–ù 1</span>
  1. –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã
  2. –ù–∞–π—Ç–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
  3. –°–æ–∑–¥–∞—Ç—å –æ—Ç—á—ë—Ç

<span class="t-dim">‚Ä¶ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Ä¶</span>
<span class="t-yellow">üîß run_bash("ls src")</span>
<span class="t-dim">üí≠ –ü–ª–∞–Ω —É—Å—Ç–∞—Ä–µ–ª: –Ω–∞–π–¥–µ–Ω –Ω–æ–≤—ã–π –ø–æ–¥–ø—Ä–æ–µ–∫—Ç</span>
<span class="t-yellow">üîß request_replan({"reason":"–ù–∞–π–¥–µ–Ω –Ω–æ–≤—ã–π –ø–æ–¥–ø—Ä–æ–µ–∫—Ç","completed_steps":["–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã"],"discoveries":["–ø–æ—è–≤–∏–ª–∞—Å—å –ø–∞–ø–∫–∞ services/"]})</span>

<span class="t-cyan">üìã –ü–õ–ê–ù 2</span>
  1. –£—á–µ—Å—Ç—å services/
  2. –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç—á—ë—Ç
<span class="t-bold">–ì–æ—Ç–æ–≤–æ!</span></div>
            <div class="output-note" data-demo-note="demo-step-7">–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞. –£ —Ç–µ–±—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∞—á–µ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.</div>

            <div class="mini-block expect">
                <div class="mini-title">‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è</div>
                –í–∏–¥–Ω–æ, —á—Ç–æ –∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å, –Ω–æ –Ω–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è: –µ—Å—Ç—å –ª–∏–º–∏—Ç –Ω–∞ —Ä–µ–ø–ª–∞–Ω.
            </div>

            <div class="mini-block trouble">
                <div class="mini-title">üßØ –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
                –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ <code>request_replan</code> –æ–±—ä—è–≤–ª–µ–Ω –∫–∞–∫ tool –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ —Ü–∏–∫–ª–µ.
            </div>

            <div class="key-insight">
                <strong>üí° –≠—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –æ—Ç —Ç—É–ø–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:</strong>
                –æ–Ω –Ω–µ –±—É–¥–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω, –Ω–æ –∏ –Ω–µ –±—É–¥–µ—Ç —Ä–µ–ø–ª—ç–Ω–∏—Ç—å –Ω–∞ –∫–∞–∂–¥—ã–π —á–∏—Ö.
                –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–∏ —Ä–µ–ø–ª–∞–Ω–µ –∑–Ω–∞–µ—Ç: —á—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ, —á—Ç–æ –Ω–æ–≤–æ–≥–æ —É–∑–Ω–∞–ª–∏, –ø–æ—á–µ–º—É —Å—Ç–∞—Ä—ã–π –ø–ª–∞–Ω –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç.
            </div>
        </div>
    </div>
</div>

<!-- ======== STEP 8 ======== -->
<div class="step" data-step="8" id="step-8">
    <div class="step-number">08</div>
    <div class="step-card">
        <div class="step-header">
        <div class="step-title"><span class="term" data-tip="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π">Human-in-the-Loop</span> + <span class="term" data-tip="–ü–æ—à–∞–≥–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä/–≤–∏–∑–∞—Ä–¥">Wizard</span></div>
            <span class="step-badge advanced">–§–∏–Ω–∞–ª</span>
        </div>
        <p class="step-intro">
            –ê–≥–µ–Ω—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Ç–æ–∫–æ–º, –Ω–æ —á–µ–ª–æ–≤–µ–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è. –¢—Ä–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö tool'–∞ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç –∞–≥–µ–Ω—Ç –≤ —É–º–Ω–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞-–≤–∏–∑–∞—Ä–¥–∞.
        </p>

        <div class="step-content">
            <div class="step-detail">
                <p>–î–≤–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –≤ –æ–¥–Ω–æ–º:</p>
                <p>
                    <strong>Human-in-the-loop</strong> ‚Äî –∞–≥–µ–Ω—Ç –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –æ–ø–∞—Å–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ (–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤).
                </p>
                <p>
                    <strong><span class="term" data-tip="–ü–æ—à–∞–≥–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä/–≤–∏–∑–∞—Ä–¥">Wizard/Guide</span></strong> ‚Äî –∞–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã, –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤—ã–±–æ—Ä, –∏ —Ç–∞–∫ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤.
                </p>
            </div>

            <div class="code-block">
                <div class="code-filename"><span class="dot"></span>–¢—Ä–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö tool'–∞</div>
                <pre><span class="cm">// –ú–æ–¥–µ–ª—å —Å–∞–º–∞ —Ä–µ—à–∞–µ—Ç –∫–∞–∫–æ–π —Ç–∏–ø –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –Ω—É–∂–µ–Ω:</span>

<span class="cm">// 1. –í—ã–±–æ—Ä –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (wizard-—Å—Ç–∏–ª—å)</span>
{
    <span class="prop">name</span>: <span class="str">"ask_user_choice"</span>,
    <span class="prop">description</span>: <span class="str">"–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–±–æ—Ä –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤"</span>,
    <span class="prop">parameters</span>: {
        <span class="prop">question</span>: <span class="str">"–û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏"</span>,
        <span class="prop">options</span>: [
            { <span class="prop">label</span>: <span class="str">"–í–∞—Ä–∏–∞–Ω—Ç A"</span>, <span class="prop">description</span>: <span class="str">"–ü–ª—é—Å—ã, –º–∏–Ω—É—Å—ã"</span> },
            { <span class="prop">label</span>: <span class="str">"–í–∞—Ä–∏–∞–Ω—Ç B"</span>, <span class="prop">description</span>: <span class="str">"–ü–ª—é—Å—ã, –º–∏–Ω—É—Å—ã"</span> },
        ],
        <span class="prop">allow_custom</span>: <span class="num">true</span>
    }
}

<span class="cm">// 2. –¢–µ–∫—Å—Ç–æ–≤—ã–π –≤–≤–æ–¥</span>
{ <span class="prop">name</span>: <span class="str">"ask_user_input"</span> }    <span class="cm">// "–ö–∞–∫ –Ω–∞–∑–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç?"</span>

<span class="cm">// 3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–∞/–Ω–µ—Ç</span>
{ <span class="prop">name</span>: <span class="str">"ask_user_confirm"</span> }  <span class="cm">// "–ó–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª?"</span></pre>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>

            <div class="step-detail">
                <p>–ì–ª–∞–≤–Ω–∞—è —Ö–∏—Ç—Ä–æ—Å—Ç—å: –º–æ–¥–µ–ª—å –Ω–µ –∑–Ω–∞–µ—Ç —á—Ç–æ —ç—Ç–∏ tool'—ã –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ. –î–ª—è –Ω–µ—ë <code>ask_user_choice</code> ‚Äî –æ–±—ã—á–Ω—ã–π tool, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É <code>"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª: ..."</code>. –í—Å—è –º–∞–≥–∏—è –≤ handlers ‚Äî –æ–Ω–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –∂–¥—É—Ç –≤–≤–æ–¥ —á–µ—Ä–µ–∑ <code>readline</code>.</p>
            </div>

            <button class="demo-btn" data-demo="demo-step-8">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ</button>

            <div class="terminal-output demo-output" id="demo-step-8" aria-live="polite">
<span class="t-dim">üí≠ –ù—É–∂–Ω–æ –≤—ã—è—Å–Ω–∏—Ç—å —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞...</span>

<span class="t-bold">‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</span>
<span class="t-cyan">ü§î –ö–∞–∫–æ–π —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å?</span>
<span class="t-dim">‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span>
  <span class="t-bold">1)</span> CLI-—É—Ç–∏–ª–∏—Ç–∞
     <span class="t-dim">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞</span>
  <span class="t-bold">2)</span> REST API
     <span class="t-dim">–ë—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å —Å Express/Fastify</span>
  <span class="t-bold">3)</span> Telegram-–±–æ—Ç
     <span class="t-dim">–ë–æ—Ç —Å grammY/Telegraf</span>
  <span class="t-bold">4)</span> –°–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç...
<span class="t-dim">‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span>
<span class="t-green">–í—ã–±–æ—Ä [1-4]: </span><span class="t-bold">2</span>

<span class="t-dim">üí≠ REST API. –ù—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫...</span>

<span class="t-bold">‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</span>
<span class="t-cyan">üìù –ö–∞–∫ –Ω–∞–∑–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç?</span>
   <span class="t-dim">üí° –ù–∞–ø—Ä–∏–º–µ—Ä: my-cool-api</span>
<span class="t-dim">‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span>
<span class="t-green">&gt; </span><span class="t-bold">todo-api</span>

<span class="t-dim">üí≠ –ì–µ–Ω–µ—Ä–∏—Ä—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞...</span>

<span class="t-bold">‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</span>
<span class="t-yellow">‚ö†Ô∏è  –ê–≥–µ–Ω—Ç —Ö–æ—á–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª: package.json</span>
<span class="t-dim">‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span>
{ "name": "todo-api", "version": "1.0.0" ...}
<span class="t-dim">‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span>
<span class="t-green">–†–∞–∑—Ä–µ—à–∏—Ç—å? [y/n/edit]: </span><span class="t-bold">y</span>
<span class="t-green">‚úÖ –§–∞–π–ª package.json –∑–∞–ø–∏—Å–∞–Ω</span></div>
            <div class="output-note" data-demo-note="demo-step-8">–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞. –£ —Ç–µ–±—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∞—á–µ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.</div>

            <div class="run-command">
                <span class="run-icon">‚ñ∂</span>
                <code>npx tsx src/08-interactive-agent.ts project</code>
            </div>

            <div class="run-command">
                <span class="run-icon">‚ñ∂</span>
                <code>npx tsx src/08-interactive-agent.ts refactor</code>
            </div>

            <div class="run-command">
                <span class="run-icon">‚ñ∂</span>
                <code>npx tsx src/08-interactive-agent.ts free</code>
            </div>

            <div class="mini-block expect">
                <div class="mini-title">‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è</div>
                –ê–≥–µ–Ω—Ç –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å—ã, –∂–¥—ë—Ç –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é —Ñ–∞–π–ª–æ–≤.
            </div>

            <div class="mini-block trouble">
                <div class="mini-title">üßØ –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
                –ó–∞–ø—É—Å–∫–∞–π –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (–Ω–µ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞). –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ readline/STDIN –¥–æ—Å—Ç—É–ø–Ω—ã.
            </div>

            <div class="key-insight">
                <strong>üí° –ò—Ç–æ–≥:</strong> –ú–æ–¥–µ–ª—å —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–ª–æ—É, –Ω–æ —á–µ–ª–æ–≤–µ–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –º–æ–∂–µ—Ç —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—É—Ä—Å.
                –ê–≥–µ–Ω—Ç –ø–æ–¥—É–º–∞–ª –∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø—Ä–µ–¥–ª–æ–∂–∏–ª –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞—Ç—å.
                –≠—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ AI-–ø—Ä–æ–¥—É–∫—Ç—ã.
            </div>
        </div>
    </div>
</div>

</div><!-- /steps-container -->

<!-- ====== FOOTER ====== -->
<section class="footer">
    <div class="footer-title">–ß—Ç–æ —Ç—ã –ø–æ—Å—Ç—Ä–æ–∏–ª üéâ</div>
    <p>8 —à–∞–≥–æ–≤ ‚Äî –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ API-–≤—ã–∑–æ–≤–∞ –¥–æ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ —Å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º wizard'–æ–º.</p>
    <div class="footer-steps">
        <span>01 ‚Üí <span class="term" data-tip="–ë–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å">LLM</span>-–≤—ã–∑–æ–≤</span>
        <span>02 ‚Üí + <span class="term" data-tip="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã/—Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å">tools</span> (–º–æ–¥–µ–ª—å –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏)</span>
        <span>03 ‚Üí + agent loop (—Ü–∏–∫–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)</span>
        <span>04 ‚Üí + —Ä–µ–∞–ª—å–Ω—ã–µ <span class="term" data-tip="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã/—Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å">tools</span> (bash, —Ñ–∞–π–ª—ã)</span>
        <span>05 ‚Üí + skills (–º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)</span>
        <span>06 ‚Üí + planning (think before act)</span>
        <span>07 ‚Üí + adaptive replan (–∫–æ—Ä—Ä–µ–∫—Ü–∏—è –∫—É—Ä—Å–∞)</span>
        <span>08 ‚Üí + <span class="term" data-tip="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π">human-in-the-loop</span> + <span class="term" data-tip="–ü–æ—à–∞–≥–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä/–≤–∏–∑–∞—Ä–¥">wizard</span></span>
    </div>
    <p style="margin-top: 2rem; color: var(--text-dim); font-size: 0.85rem;">
        –í–µ—Å—å –∫–æ–¥ ‚Äî —Ä–∞–±–æ—á–∏–π TypeScript, –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ <code style="color: var(--cyan);">npx tsx</code>.<br>
        Claude Code, Cursor, GitHub Copilot ‚Äî —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —ç—Ç–∏—Ö –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö.
    </p>
</section>

<!-- ====== PROGRESS MAP ====== -->
<nav class="progress-map" id="progressMap">
    <div class="progress-dot current" data-target="step-1" title="01: Basic Call"></div>
    <div class="progress-dot" data-target="step-2" title="02: First Tool"></div>
    <div class="progress-dot" data-target="step-3" title="03: Agent Loop"></div>
    <div class="progress-dot" data-target="step-4" title="04: Real Tools"></div>
    <div class="progress-dot" data-target="step-5" title="05: Skills"></div>
    <div class="progress-dot" data-target="step-6" title="06: Planning"></div>
    <div class="progress-dot" data-target="step-7" title="07: Adaptive"></div>
    <div class="progress-dot" data-target="step-8" title="08: Interactive"></div>
</nav>

<script>
    // ====== Step Toggle ======
    document.querySelectorAll('.step-card').forEach(card => {
        card.setAttribute('role', 'button');
        card.setAttribute('tabindex', '0');
        const parentStep = card.closest('.step');
        card.setAttribute('aria-expanded', parentStep?.classList.contains('active') ? 'true' : 'false');

        card.addEventListener('click', (e) => {
            // Don't toggle if clicking inside code or buttons
            if (e.target.closest('pre, button, .run-command, a')) return;

            const step = card.closest('.step');
            const wasActive = step.classList.contains('active');

            // Close all
            document.querySelectorAll('.step').forEach(s => {
                s.classList.remove('active');
                s.querySelector('.step-card')?.setAttribute('aria-expanded', 'false');
            });

            // Toggle clicked
            if (!wasActive) {
                step.classList.add('active');
                step.querySelector('.step-card')?.setAttribute('aria-expanded', 'true');
                updateProgress(step.dataset.step);
            }
        });

        card.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                card.click();
            }
        });
    });

    // ====== Progress Map ======
    function updateProgress(activeStep) {
        const dots = document.querySelectorAll('.progress-dot');
        dots.forEach((dot, i) => {
            dot.classList.remove('current', 'done');
            if (i + 1 < activeStep) dot.classList.add('done');
            if (i + 1 == activeStep) dot.classList.add('current');
            dot.setAttribute('aria-current', i + 1 == activeStep ? 'step' : 'false');
        });
    }

    updateProgress(document.querySelector('.step.active')?.dataset.step || 1);

    document.querySelectorAll('.progress-dot').forEach(dot => {
        dot.setAttribute('role', 'button');
        dot.setAttribute('tabindex', '0');
        dot.setAttribute('aria-label', dot.getAttribute('title') || 'Step');
        dot.addEventListener('click', () => {
            const targetId = dot.dataset.target;
            const target = document.getElementById(targetId);
            if (target) {
                document.querySelectorAll('.step').forEach(s => {
                    s.classList.remove('active');
                    s.querySelector('.step-card')?.setAttribute('aria-expanded', 'false');
                });
                target.classList.add('active');
                target.querySelector('.step-card')?.setAttribute('aria-expanded', 'true');
                updateProgress(target.dataset.step);
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        });

        dot.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                dot.click();
            }
        });
    });

    // ====== Copy Button ======
    function copyCode(btn) {
        const pre = btn.closest('.code-block').querySelector('pre');
        const text = pre.innerText;
        navigator.clipboard.writeText(text).then(() => {
            btn.textContent = '‚úì Copied';
            btn.classList.add('copied');
            setTimeout(() => {
                btn.textContent = 'Copy';
                btn.classList.remove('copied');
            }, 2000);
        });
    }

    function copyRunCommand(btn) {
        const code = btn.closest('.run-command')?.querySelector('code');
        if (!code) return;
        navigator.clipboard.writeText(code.innerText).then(() => {
            btn.textContent = '‚úì Copied';
            btn.classList.add('copied');
            setTimeout(() => {
                btn.textContent = 'Copy';
                btn.classList.remove('copied');
            }, 2000);
        });
    }

    // ====== Run Command Copy Buttons ======
    document.querySelectorAll('.run-command').forEach(cmd => {
        if (cmd.querySelector('.run-copy-btn')) return;
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'run-copy-btn';
        btn.textContent = 'Copy';
        btn.addEventListener('click', (e) => {
            e.stopPropagation();
            copyRunCommand(btn);
        });
        cmd.appendChild(btn);
    });

    // ====== Demo Buttons ======
    document.querySelectorAll('.demo-btn').forEach(btn => {
        const targetId = btn.dataset.demo;
        const target = targetId ? document.getElementById(targetId) : null;
        const note = targetId ? document.querySelector(`[data-demo-note="${targetId}"]`) : null;
        if (targetId) {
            btn.setAttribute('aria-controls', targetId);
        }
        if (target && target.classList.contains('visible')) {
            btn.textContent = '–°–∫—Ä—ã—Ç—å –¥–µ–º–æ';
            note?.classList.add('visible');
            btn.setAttribute('aria-expanded', 'true');
        } else {
            btn.setAttribute('aria-expanded', 'false');
        }
        btn.addEventListener('click', () => {
            const targetId = btn.dataset.demo;
            const target = document.getElementById(targetId);
            const note = document.querySelector(`[data-demo-note="${targetId}"]`);
            if (!target) return;
            const isVisible = target.classList.toggle('visible');
            note?.classList.toggle('visible', isVisible);
            btn.textContent = isVisible ? '–°–∫—Ä—ã—Ç—å –¥–µ–º–æ' : '‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ';
            btn.setAttribute('aria-expanded', isVisible ? 'true' : 'false');
        });
    });

    // ====== Tooltip focus ======
    document.querySelectorAll('.term').forEach(term => {
        term.setAttribute('tabindex', '0');
    });

    // ====== Smooth Scroll for CTA ======
    document.querySelector('.hero-cta')?.addEventListener('click', (e) => {
        e.preventDefault();
        document.getElementById('step-0')?.scrollIntoView({ behavior: 'smooth' });
    });

    // ====== Scroll-based step activation ======
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const step = entry.target;
                if (step.dataset.step) {
                    updateProgress(step.dataset.step);
                }
            }
        });
    }, { threshold: 0.3 });

    document.querySelectorAll('.step').forEach(step => observer.observe(step));
</script>

</body>
</html>
