<div class="step" data-step="6" id="step-6">
            <div class="step-number">06</div>
            <div class="step-card">
                <div class="step-header">
                    <div class="step-title">Multi-step Planning</div>
                    <span class="step-badge advanced">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</span>
                </div>
                <p class="step-intro">
                    –ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å, –∞–≥–µ–Ω—Ç —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–ª–∞–Ω. –î–≤–∞ –ø–æ–¥—Ö–æ–¥–∞: <span class="term"
                        data-tip="–°–Ω–∞—á–∞–ª–∞ –ø–ª–∞–Ω, –ø–æ—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ —à–∞–≥–∞–º">Plan-then-Execute</span> –∏ <span class="term"
                        data-tip="–ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –∏ –¥–µ–π—Å—Ç–≤–∏–π">ReAct</span>.
                </p>

                <div class="step-content">
                    <div class="arch-diagram">
                        <div class="arch-row">
                            <span class="loop-node llm">Plan-then-Execute</span>
                        </div>
                        <div style="color: var(--text-dim); margin: 0.5rem 0;">–û—Ç–¥–µ–ª—å–Ω—ã–π LLM-–≤—ã–∑–æ–≤ –¥–ª—è –ø–ª–∞–Ω–∞ ‚Üí –ø–æ—Ç–æ–º
                            –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
                        <div class="arch-row" style="margin-top: 1rem;">
                            <span class="loop-node output">ReAct</span>
                        </div>
                        <div style="color: var(--text-dim); margin: 0.5rem 0;">Think ‚Üí Act ‚Üí Think ‚Üí Act –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
                        </div>
                    </div>

                    <div class="step-detail">
                        <p><strong><span class="term"
                                    data-tip="–°–Ω–∞—á–∞–ª–∞ –ø–ª–∞–Ω, –ø–æ—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ —à–∞–≥–∞–º">Plan-then-Execute</span></strong>
                            ‚Äî –¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —ç—Ç–∞–ø–∞. –°–Ω–∞—á–∞–ª–∞ <span class="term"
                                data-tip="–ë–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å">LLM</span> (–±–µ–∑ tools)
                            —Å–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON-–ø–ª–∞–Ω, –Ω–µ –∑–Ω–∞—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã. –ü–æ—Ç–æ–º –¥—Ä—É–≥–æ–π –≤—ã–∑–æ–≤
                            –ø–æ–ª—É—á–∞–µ—Ç –ø–ª–∞–Ω
                            –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ —à–∞–≥–∞–º. –ü–ª—é—Å: –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ, –ø–ª–∞–Ω –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –ú–∏–Ω—É—Å: –ø–ª–∞–Ω
                            –º–æ–∂–µ—Ç –Ω–µ —Å–æ–≤–ø–∞—Å—Ç—å —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é.</p>
                        <p><strong><span class="term"
                                    data-tip="–ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –∏ –¥–µ–π—Å—Ç–≤–∏–π">ReAct</span></strong> ‚Äî –æ–¥–∏–Ω —Ü–∏–∫–ª, –Ω–æ
                            —Å <code>think</code> tool. –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–π—Å—Ç–≤–∏–µ–º –∞–≥–µ–Ω—Ç ¬´–¥—É–º–∞–µ—Ç –≤—Å–ª—É—Ö¬ª: —á—Ç–æ —è –∑–Ω–∞—é, —á—Ç–æ
                            –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ, –ø–æ—á–µ–º—É.
                            –ü–ª—é—Å: –∞–≥–µ–Ω—Ç –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ª–µ—Ç—É, –≤–∏–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ú–∏–Ω—É—Å: –º–µ–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ, –±–æ–ª—å—à–µ
                            –∏—Ç–µ—Ä–∞—Ü–∏–π.</p>
                        <p><code>think</code> tool ‚Äî —Ö–∏—Ç—Ä—ã–π –ø—Ä–∏—ë–º. –û–Ω –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏, –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
                            <code>"OK"</code>.
                            –ù–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ–¥–µ–ª—å <em>–≤–µ—Ä–±–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–µ</em> –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º ‚Äî –∏ —ç—Ç–æ —Å–∏–ª—å–Ω–æ
                            –ø–æ–≤—ã—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ—à–µ–Ω–∏–π.</p>
                    </div>

                    <div class="code-block">
                        <div class="code-filename"><span class="dot"></span>think tool ‚Äî —Ö–∏—Ç—Ä—ã–π –ø—Ä–∏—ë–º</div>
                        <pre><span class="cm">// Think tool –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç! –ü—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "OK".</span>
<span class="cm">// –ù–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ–¥–µ–ª—å –í–ï–†–ë–ê–õ–ò–ó–û–í–ê–¢–¨ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–µ</span>
<span class="cm">// –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º ‚Äî –∏ —ç—Ç–æ —Å–∏–ª—å–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ.</span>
{
    <span class="prop">name</span>: <span class="str">"think"</span>,
    <span class="prop">description</span>: <span class="str">"–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –±–ª–æ–∫–Ω–æ—Ç –¥–ª—è —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π"</span>,
}

<span class="cm">// Handler:</span>
<span class="fn">think</span>: () =&gt; <span class="str">"OK"</span>  <span class="cm">// –≤–æ—Ç –∏ –≤—Å—ë</span></pre>
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    </div>
                    <div class="code-block">
                        <div class="code-filename"><span class="dot"></span>src/06-planning.ts</div>
                        <pre>// src/06-planning.ts
// –ê–≥–µ–Ω—Ç —Å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º: —Å–Ω–∞—á–∞–ª–∞ –¥—É–º–∞–µ—Ç, –ø–æ—Ç–æ–º –¥–µ–ª–∞–µ—Ç
import OpenAI from "openai";
import { execSync } from "child_process";
import { readFileSync, writeFileSync } from "fs";
import dotenv from "dotenv";

dotenv.config();

const client = new OpenAI({
    baseURL: "https://openrouter.ai/api/v1",
    apiKey: process.env.OPENROUTER_API_KEY ?? "",
});

const MODEL = "anthropic/claude-sonnet-4.5";

// ============================================================
// TOOLS (—Ç–µ –∂–µ —á—Ç–æ –≤ 05, –Ω–æ –¥–æ–±–∞–≤–ª—è–µ–º think tool)
// ============================================================

const tools: OpenAI.ChatCompletionTool[] = [
    {
        type: "function",
        function: {
            name: "think",
            description:
                "–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —á—Ç–æ–±—ã –ø–æ–¥—É–º–∞—Ç—å, —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –ø–æ—Ä–∞—Å—Å—É–∂–¥–∞—Ç—å. " +
                "–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –≤–∏–¥–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ‚Äî —ç—Ç–æ —Ç–≤–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –±–ª–æ–∫–Ω–æ—Ç.",
            parameters: {
                type: "object",
                properties: {
                    thought: {
                        type: "string",
                        description: "–¢–≤–æ–∏ –º—ã—Å–ª–∏, –ø–ª–∞–Ω, —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è",
                    },
                },
                required: ["thought"],
            },
        },
    },
    {
        type: "function",
        function: {
            name: "run_bash",
            description: "–í—ã–ø–æ–ª–Ω–∏—Ç—å bash-–∫–æ–º–∞–Ω–¥—É",
            parameters: {
                type: "object",
                properties: {
                    command: { type: "string", description: "–ö–æ–º–∞–Ω–¥–∞" },
                },
                required: ["command"],
            },
        },
    },
    {
        type: "function",
        function: {
            name: "read_file",
            description: "–ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª",
            parameters: {
                type: "object",
                properties: {
                    path: { type: "string", description: "–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É" },
                },
                required: ["path"],
            },
        },
    },
    {
        type: "function",
        function: {
            name: "write_file",
            description: "–ó–∞–ø–∏—Å–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ —Ñ–∞–π–ª",
            parameters: {
                type: "object",
                properties: {
                    path: { type: "string", description: "–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É" },
                    content: { type: "string", description: "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ" },
                },
                required: ["path", "content"],
            },
        },
    },
];

const toolHandlers: Record&lt;string, (args: any) =&gt; string&gt; = {
    think: ({ thought }) =&gt; {
        // Think tool –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.
        // –í—Å—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ç–æ–º, —á—Ç–æ –º–æ–¥–µ–ª—å "–ø—Ä–æ–≥–æ–≤–æ—Ä–∏–ª–∞" –º—ã—Å–ª—å.
        return "OK";
    },
    run_bash: ({ command }) =&gt; {
        try {
            return execSync(command, { encoding: "utf-8", timeout: 10000 }).trim();
        } catch (e: any) {
            return `–û—à–∏–±–∫–∞: ${e.stderr || e.message}`;
        }
    },
    read_file: ({ path }) =&gt; {
        try {
            return readFileSync(path, "utf-8");
        } catch (e: any) {
            return `–û—à–∏–±–∫–∞: ${e.message}`;
        }
    },
    write_file: ({ path, content }) =&gt; {
        try {
            writeFileSync(path, content, "utf-8");
            return `‚úÖ –§–∞–π–ª ${path} –∑–∞–ø–∏—Å–∞–Ω (${content.length} –±–∞–π—Ç)`;
        } catch (e: any) {
            return `–û—à–∏–±–∫–∞: ${e.message}`;
        }
    },
};

// ============================================================
// –ü–û–î–•–û–î 1: Plan-then-Execute
// –î–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —ç—Ç–∞–ø–∞: —Å–Ω–∞—á–∞–ª–∞ –ø–ª–∞–Ω, –ø–æ—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
// ============================================================

async function planThenExecute(userMessage: string) {
    console.log("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó");
    console.log("‚ïë   –ü–û–î–•–û–î 1: Plan-then-Execute            ‚ïë");
    console.log("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n");

    // --- –§–ê–ó–ê 1: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–±–µ–∑ tools!) ---
    console.log("üìã –§–ê–ó–ê 1: –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï\n");

    const planResponse = await client.chat.completions.create({
        model: MODEL,
        messages: [
            {
                role: "system",
                content: `–¢—ã –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á. –ü–æ–ª—É—á–∏–≤ –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ—Å—Ç–∞–≤—å –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω.

–ü—Ä–∞–≤–∏–ª–∞:
- –ö–∞–∂–¥—ã–π —à–∞–≥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∏ –≤—ã–ø–æ–ª–Ω–∏–º—ã–º
- –ò—Å–ø–æ–ª—å–∑—É–π —Ñ–æ—Ä–º–∞—Ç JSON
- –ù–ï –≤—ã–ø–æ–ª–Ω—è–π –∑–∞–¥–∞—á—É, —Ç–æ–ª—å–∫–æ —Å–ø–ª–∞–Ω–∏—Ä—É–π

–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- run_bash: –≤—ã–ø–æ–ª–Ω–∏—Ç—å bash-–∫–æ–º–∞–Ω–¥—É
- read_file: –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª
- write_file: –∑–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª

–û—Ç–≤–µ—Ç—å –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–º JSON –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
{
  "goal": "–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–∏",
  "steps": [
    { "id": 1, "action": "–æ–ø–∏—Å–∞–Ω–∏–µ —à–∞–≥–∞", "tool": "–∏–º—è_tool", "reason": "–∑–∞—á–µ–º" },
    ...
  ]
}`,
            },
            { role: "user", content: userMessage },
        ],
    });

    const planText = planResponse.choices[0].message.content ?? "";

    // –ü–∞—Ä—Å–∏–º –ø–ª–∞–Ω
    let plan: { goal: string; steps: { id: number; action: string; tool: string; reason: string }[] };
    try {
        // –£–±–∏—Ä–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ markdown-–æ–±—ë—Ä—Ç–∫–∏
        const cleanJson = planText.replace(/```json\n?/g, "").replace(/```\n?/g, "").trim();
        plan = JSON.parse(cleanJson);
    } catch (e) {
        console.log("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –ø–ª–∞–Ω:");
        console.log(planText);
        return;
    }

    console.log(`üéØ –¶–µ–ª—å: ${plan.goal}`);
    console.log(`üìù –®–∞–≥–æ–≤: ${plan.steps.length}\n`);
    plan.steps.forEach((s) =&gt; {
        console.log(`   ${s.id}. [${s.tool}] ${s.action}`);
        console.log(`      ‚îî‚îÄ ${s.reason}`);
    });

    // --- –§–ê–ó–ê 2: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (—Å tools) ---
    console.log("\n\n‚ö° –§–ê–ó–ê 2: –í–´–ü–û–õ–ù–ï–ù–ò–ï\n");

    const messages: OpenAI.ChatCompletionMessageParam[] = [
        {
            role: "system",
            content: `–¢—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –∑–∞–¥–∞—á. –í—ã–ø–æ–ª–Ω–∏ –ø–ª–∞–Ω –ø–æ—à–∞–≥–æ–≤–æ, –∏—Å–ø–æ–ª—å–∑—É—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.

–ü–õ–ê–ù:
${JSON.stringify(plan, null, 2)}

–í—ã–ø–æ–ª–Ω—è–π —à–∞–≥–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É. –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ —Å–æ–æ–±—â–∞–π –ø—Ä–æ–≥—Ä–µ—Å—Å.
–ï—Å–ª–∏ —à–∞–≥ –Ω–µ –ø–æ–ª—É—á–∏–ª—Å—è ‚Äî –∞–¥–∞–ø—Ç–∏—Ä—É–π –ø–ª–∞–Ω.
–ö–æ–≥–¥–∞ –≤—Å–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã ‚Äî –ø–æ–¥–≤–µ–¥–∏ –∏—Ç–æ–≥.`,
        },
        { role: "user", content: userMessage },
    ];

    let iteration = 0;

    while (iteration &lt; 15) {
        iteration++;
        console.log(`\n--- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: –∏—Ç–µ—Ä–∞—Ü–∏—è ${iteration} ---`);

        const response = await client.chat.completions.create({
            model: MODEL,
            messages,
            tools,
        });

        const message = response.choices[0].message;
        messages.push(message);

        if (!message.tool_calls?.length) {
            console.log("\n‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ.");
            console.log("–ò—Ç–æ–≥:", message.content);
            return;
        }

        for (const toolCall of message.tool_calls) {
            const name = toolCall.function.name;
            const args = JSON.parse(toolCall.function.arguments);
            const argsPreview =
                name === "write_file"
                    ? `{path: "${args.path}", content: [${args.content.length} chars]}`
                    : JSON.stringify(args);

            console.log(`   üîß ${name}(${argsPreview})`);

            const result = toolHandlers[name]?.(args) ?? `Tool "${name}" –Ω–µ –Ω–∞–π–¥–µ–Ω`;
            console.log(`   ‚Üí ${result.slice(0, 120)}`);

            messages.push({
                role: "tool",
                tool_call_id: toolCall.id,
                content: result,
            });
        }
    }
}

// ============================================================
// –ü–û–î–•–û–î 2: ReAct (Reasoning + Acting)
// –î—É–º–∞–µ—Ç –∏ –¥–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ —á–µ—Ä–µ–∑ think tool
// ============================================================

async function reactAgent(userMessage: string) {
    console.log("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó");
    console.log("‚ïë   –ü–û–î–•–û–î 2: ReAct (Reason + Act)         ‚ïë");
    console.log("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n");

    const messages: OpenAI.ChatCompletionMessageParam[] = [
        {
            role: "system",
            content: `–¢—ã –∞–≥–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ—à–∞–≥–æ–≤–æ.

–ú–ï–¢–û–î –†–ê–ë–û–¢–´:
1. –ü–µ—Ä–µ–¥ –ö–ê–ñ–î–´–ú –¥–µ–π—Å—Ç–≤–∏–µ–º —Å–Ω–∞—á–∞–ª–∞ –≤—ã–∑–æ–≤–∏ tool "think" ‚Äî –æ–±–¥—É–º–∞–π:
   - –ß—Ç–æ —É–∂–µ –∏–∑–≤–µ—Å—Ç–Ω–æ?
   - –ö–∞–∫–æ–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥?
   - –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç —à–∞–≥?
2. –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏ –¥–µ–π—Å—Ç–≤–∏–µ –Ω—É–∂–Ω—ã–º tool
3. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–Ω–æ–≤–∞ "think" ‚Äî –æ—Ü–µ–Ω–∏:
   - –ü–æ–ª—É—á–∏–ª–æ—Å—å –ª–∏?
   - –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç?
   - –ö–∞–∫–æ–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥?

–í–ê–ñ–ù–û: –í—Å–µ–≥–¥–∞ —á–µ—Ä–µ–¥—É–π think ‚Üí action ‚Üí think ‚Üí action.
–ù–µ –¥–µ–ª–∞–π –¥–µ–π—Å—Ç–≤–∏–π –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–¥—É–º—ã–≤–∞–Ω–∏—è.

–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: think, run_bash, read_file, write_file.`,
        },
        { role: "user", content: userMessage },
    ];

    let iteration = 0;

    while (iteration &lt; 20) {
        iteration++;

        const response = await client.chat.completions.create({
            model: MODEL,
            messages,
            tools,
        });

        const message = response.choices[0].message;
        messages.push(message);

        if (!message.tool_calls?.length) {
            console.log(`\n‚úÖ –ê–≥–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É (${iteration} –∏—Ç–µ—Ä–∞—Ü–∏–π).`);
            console.log("–û—Ç–≤–µ—Ç:", message.content);
            return;
        }

        for (const toolCall of message.tool_calls) {
            const name = toolCall.function.name;
            const args = JSON.parse(toolCall.function.arguments);

            if (name === "think") {
                // –ö—Ä–∞—Å–∏–≤–æ –≤—ã–≤–æ–¥–∏–º –º—ã—Å–ª–∏ –∞–≥–µ–Ω—Ç–∞
                console.log(`\nüí≠ [–ú—ã—Å–ª—å]: ${args.thought}`);
            } else {
                const argsPreview =
                    name === "write_file"
                        ? `{path: "${args.path}", content: [${args.content.length} chars]}`
                        : JSON.stringify(args);
                console.log(`   üîß ${name}(${argsPreview})`);

                const result = toolHandlers[name]?.(args) ?? `Tool "${name}" –Ω–µ –Ω–∞–π–¥–µ–Ω`;
                console.log(`   ‚Üí ${result.slice(0, 120)}`);

                messages.push({
                    role: "tool",
                    tool_call_id: toolCall.id,
                    content: result,
                });
                continue;
            }

            // Think –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç OK
            messages.push({
                role: "tool",
                tool_call_id: toolCall.id,
                content: "OK",
            });
        }
    }
}

// ============================================================
// MAIN: –≤—ã–±–µ—Ä–∏ –ø–æ–¥—Ö–æ–¥
// ============================================================

async function main() {
    const task =
        "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –≤—Å–µ .ts —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ src/. " +
        "–ù–∞–π–¥–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –º–µ–∂–¥—É —Ñ–∞–π–ª–∞–º–∏ (–æ–±—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, " +
        "–ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∏–º–ø–æ—Ä—Ç—ã, –ø–æ—Ö–æ–∂–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏). " +
        "–°–æ–∑–¥–∞–π —Ñ–∞–π–ª REFACTORING.md —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É.";

    // –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –Ω—É–∂–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
    const approach = process.argv[2] ?? "plan";

    if (approach === "plan") {
        await planThenExecute(task);
    } else if (approach === "react") {
        await reactAgent(task);
    } else {
        console.log("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: npx tsx src/06-planning.ts [plan|react]");
    }
}

main();
</pre>
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    </div>

                    <button class="demo-btn" data-demo="demo-step-6">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ</button>

                    <div class="demo-output demo-player" id="demo-step-6" data-demo-chat="step6" aria-live="polite">
                        <div class="demo-player-header">
                            <div class="demo-player-title">–î–µ–º–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–∏–∞–ª–æ–≥–∞</div>
                            <div class="demo-player-count"><span data-demo-index>1</span>/<span data-demo-total>1</span>
                            </div>
                        </div>
                        <div class="demo-chat-body" data-demo-chat-body></div>
                        <div class="demo-player-controls">
                            <button class="demo-step-btn" data-demo-prev>‚Üê –ù–∞–∑–∞–¥</button>
                            <div class="demo-step-label" data-demo-label></div>
                            <button class="demo-step-btn" data-demo-next>–î–∞–ª–µ–µ ‚Üí</button>
                        </div>
                    </div>
                    <div class="output-note" data-demo-note="demo-step-6">–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞. –£ —Ç–µ–±—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∞—á–µ ‚Äî —ç—Ç–æ
                        –Ω–æ—Ä–º–∞–ª—å–Ω–æ.</div>

                    <div class="run-command">
                        <span class="run-icon">‚ñ∂</span>
                        <code>npx tsx src/06-planning.ts plan &nbsp;# –∏–ª–∏ "react"</code>
                    </div>

                    <div class="mini-block expect">
                        <div class="mini-title">‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è</div>
                        –ê–≥–µ–Ω—Ç —Å–Ω–∞—á–∞–ª–∞ –ø–µ—á–∞—Ç–∞–µ—Ç –ø–ª–∞–Ω, –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç —à–∞–≥–∏. –í —Ä–µ–∂–∏–º–µ <code>react</code> –≤–∏–¥–Ω—ã
                        –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ ¬´–º—ã—Å–ª–∏¬ª.
                    </div>

                    <div class="mini-block trouble">
                        <div class="mini-title">üßØ –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
                        –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω —Ä–µ–∂–∏–º <code>plan</code> –∏–ª–∏ <code>react</code> –∏ —á—Ç–æ tool <code>think</code>
                        –ø–æ–¥–∫–ª—é—á—ë–Ω.
                    </div>

                    <div class="key-insight">
                        <strong>üí° –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤:</strong><br>
                        <strong><span class="term"
                                data-tip="–°–Ω–∞—á–∞–ª–∞ –ø–ª–∞–Ω, –ø–æ—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ —à–∞–≥–∞–º">Plan-then-Execute</span>:</strong>
                        ‚úÖ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ, –ø–ª–∞–Ω –≤–∏–¥–µ–Ω —é–∑–µ—Ä—É ¬∑ ‚ùå –ø–ª–∞–Ω –º–æ–∂–µ—Ç –Ω–µ —Å–æ–≤–ø–∞—Å—Ç—å —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é<br>
                        <strong><span class="term" data-tip="–ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –∏ –¥–µ–π—Å—Ç–≤–∏–π">ReAct</span>:</strong>
                        ‚úÖ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ, –∞–≥–µ–Ω—Ç –≤–∏–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ¬∑ ‚ùå –º–µ–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ, –±–æ–ª—å—à–µ –∏—Ç–µ—Ä–∞—Ü–∏–π<br>
                        –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–∞—ë—Ç <strong>–∫–æ–º–±–∏–Ω–∞—Ü–∏—è –æ–±–æ–∏—Ö</strong> ‚Äî –∏–º–µ–Ω–Ω–æ —ç—Ç–æ –º—ã —Å–¥–µ–ª–∞–µ–º –≤
                        —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ.
                    </div>
                </div>
            </div>
        </div>

<!-- –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–∞ -->
<script type="application/json" data-demo-steps="step6">
[
    {
        "label": "–ü–ª–∞–Ω",
        "messages": [
            {
                "role": "llm",
                "text": "üéØ –¶–µ–ª—å: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å TypeScript —Ñ–∞–π–ª—ã –≤ src/, –Ω–∞–π—Ç–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç—á—ë—Ç —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É\nüìù –®–∞–≥–æ–≤: 6\n\n   1. [run_bash] –ù–∞–π—Ç–∏ –≤—Å–µ .ts —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ src/\n      ‚îî‚îÄ –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö TypeScript —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞\n   2. [read_file] –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞–∂–¥–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ .ts —Ñ–∞–π–ª–∞\n      ‚îî‚îÄ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–¥ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è\n   3. [run_bash] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö\n      ‚îî‚îÄ –ò–∑–≤–ª–µ—á—å —Å—Ç—Ä–æ–∫–∏ –∏–º–ø–æ—Ä—Ç–æ–≤ –∏–∑ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π\n   4. [run_bash] –ù–∞–π—Ç–∏ –ø–æ—Ö–æ–∂–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–¥–∞\n      ‚îî‚îÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å grep/awk –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å–∏–≥–Ω–∞—Ç—É—Ä —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–æ–¥–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤\n   5. [run_bash] –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é\n      ‚îî‚îÄ –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —á–∞—Å—Ç–æ—Ç–µ –≤—Å—Ç—Ä–µ—á–∞–µ–º–æ—Å—Ç–∏ –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤\n   6. [write_file] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª REFACTORING.md —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏\n      ‚îî‚îÄ –ó–∞–ø–∏—Å–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á—ë—Ç —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É"
            }
        ]
    },
    {
        "label": "–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö",
        "messages": [
            {
                "role": "tool_call",
                "text": "run_bash({\"command\":\"find src/ -type f -name \\\"*.ts\\\" 2>/dev/null | sort\"})"
            },
            {
                "role": "tool_result",
                "text": "src/01-basic-call.ts\nsrc/02-with-tool.ts\nsrc/03-agent-loop.ts\nsrc/04-real-tools.ts\nsrc/05-skills.ts\nsrc/06-planning.ts\ns"
            },
            {
                "role": "tool_call",
                "text": "read_file({\"path\":\"src/01-basic-call.ts\"})"
            },
            {
                "role": "tool_result",
                "text": "// src/01-basic-call.ts\nimport OpenAI from \"openai\";\nimport dotenv from \"dotenv\";\n\ndotenv.config();\n\nconst client = new "
            }
        ]
    },
    {
        "label": "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
        "messages": [
            {
                "role": "tool_call",
                "text": "run_bash({\"command\":\"grep -h \\\"^import\\\" src/*.ts | sort | uniq -c | sort -rn\"})"
            },
            {
                "role": "tool_result",
                "text": "8 import dotenv from \"dotenv\";\n   8 import OpenAI from \"openai\";\n   5 import { execSync } from \"child_process\";\n   2 imp"
            },
            {
                "role": "tool_call",
                "text": "run_bash({\"command\":\"wc -l src/*.ts | tail -1\"})"
            },
            {
                "role": "tool_result",
                "text": "1688 total"
            }
        ]
    },
    {
        "label": "–ó–∞–ø–∏—Å—å –æ—Ç—á—ë—Ç–∞",
        "messages": [
            {
                "role": "tool_call",
                "text": "write_file({path: \"REFACTORING.md\", content: [19189 chars]})"
            },
            {
                "role": "tool_result",
                "text": "‚úÖ –§–∞–π–ª REFACTORING.md –∑–∞–ø–∏—Å–∞–Ω (19189 –±–∞–π—Ç)"
            }
        ]
    },
    {
        "label": "–ò—Ç–æ–≥",
        "messages": [
            {
                "role": "llm",
                "text": "‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ.\n–ò—Ç–æ–≥: ## ‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!\n\n### –ò—Ç–æ–≥–∏ –∞–Ω–∞–ª–∏–∑–∞:\n\nüìä **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ**: 8 TypeScript —Ñ–∞–π–ª–æ–≤ (1688 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)\n\nüîç **–ù–∞–π–¥–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**:\n\n1. **–ö—Ä–∏—Ç–∏—á–Ω–æ–µ**:\n   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è OpenAI –∫–ª–∏–µ–Ω—Ç–∞ (8 —Ñ–∞–π–ª–æ–≤) - ~40 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è\n   - Tool definitions (run_bash, read_file, write_file, think) - ~200 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è\n   - Tool handlers (5 —Ñ–∞–π–ª–æ–≤) - ~150 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è\n\n2. **–°—Ä–µ–¥–Ω–µ–µ**:\n   - –õ–æ–≥–∏–∫–∞ Agent Loop (2 —Ñ–∞–π–ª–∞) - ~80 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è\n\n3. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π**:\n   - `run_bash`: 14 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π\n   - `read_file`: 14 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π\n   - `write_file`: 18 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π\n   - `think`: 11 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π\n\nüìù **–°–æ–∑–¥–∞–Ω –æ—Ç—á—ë—Ç**: `REFACTORING.md` (19KB)\n\n### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:\n\n1. ‚úÖ **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** - –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª–∏:\n   - `src/lib/client.ts` - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π OpenAI –∫–ª–∏–µ–Ω—Ç\n   - `src/lib/tools-registry.ts` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤\n   - `src/lib/tool-handlers.ts` - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤\n\n2. ‚ö†Ô∏è **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å:\n   - `src/lib/agent-loop.ts` - –±–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∞–≥–µ–Ω—Ç–∞\n\n3. ‚ÑπÔ∏è **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** - –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å:\n   - –°—Ç—Ä—É–∫—Ç—É—Ä—É skills –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏\n\n### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è:\n- **~480 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞** (28% –æ—Ç –æ–±—â–µ–≥–æ –æ–±—ä—ë–º–∞)\n- **–°–Ω–∏–∂–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** —Å 35% –¥–æ <5%\n- **–£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏** –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏\n\n–û—Ç—á—ë—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞, –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞."
            }
        ]
    }
]
</script>
