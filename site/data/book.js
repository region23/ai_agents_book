module.exports = {
    book: {
        title: "ИИ-агенты: от первого вызова до интерактивного помощника",
        description:
            "Практический учебник по построению агентных систем на TypeScript: от базового вызова модели до адаптивного агента с планированием, репланом и Human-in-the-Loop.",
        audience: "Начинающие и middle-разработчики, которые хотят перейти от простых LLM-запросов к рабочим агентам.",
        outcomes: [
            "Поймете базовый цикл агента: LLM -> tool call -> результат -> следующий шаг.",
            "Научитесь проектировать и подключать инструменты (tools) через JSON Schema.",
            "Соберете модульного агента со skills и управляемым набором возможностей.",
            "Реализуете двухфазный подход Plan -> Execute и разберетесь, когда нужен Replan.",
            "Добавите Human-in-the-Loop и wizard-поток для безопасных изменений в проекте.",
        ],
    },
    learningPath: [
        {
            title: "База",
            description: "Первые 3 урока: как вызвать LLM, добавить tool и собрать непрерывный agent loop.",
        },
        {
            title: "Инструменты и архитектура",
            description: "Уроки 4-5: подключение реальных инструментов и переход к модульным skills.",
        },
        {
            title: "Планирование и адаптация",
            description: "Уроки 6-7: multi-step planning, стратегия выполнения и реплан при новых данных.",
        },
        {
            title: "Работа с пользователем",
            description: "Урок 8: подтверждения, выбор вариантов и безопасные действия через Human-in-the-Loop.",
        },
    ],
    lessons: [
        {
            id: 1,
            slug: "lesson-01-basic-call",
            source: "src/01-basic-call.ts",
            title: "Базовый LLM-вызов",
            level: "Начало",
            duration: "10-15 минут",
            summary: "Запускаем первый запрос к модели через OpenAI SDK и OpenRouter, чтобы получить минимальный рабочий скелет.",
            objectives: [
                "Подключить `dotenv` и загрузить API-ключ из переменных окружения.",
                "Инициализировать клиента OpenAI с кастомным `baseURL`.",
                "Сделать первый `chat.completions.create` запрос и вывести результат.",
            ],
            keyPoints: [
                "Агент начинается с простого диалога с моделью.",
                "Надежная конфигурация окружения важнее хитрой логики на старте.",
                "Этот урок дает фундамент для всех следующих шагов.",
            ],
        },
        {
            id: 2,
            slug: "lesson-02-with-tool",
            source: "src/02-with-tool.ts",
            title: "Добавляем первый Tool",
            level: "Начало",
            duration: "15-20 минут",
            summary: "Подключаем функцию как tool, чтобы модель могла не только отвечать текстом, но и запрашивать выполнение действия.",
            objectives: [
                "Описать tool через JSON Schema (`name`, `description`, `parameters`).",
                "Создать локальную реализацию функции и подготовить тестовые данные.",
                "Посмотреть `tool_calls` в ответе модели и понять формат вызова.",
            ],
            keyPoints: [
                "Tool-контракт должен быть точным и однозначным.",
                "Модель решает, когда вызвать tool, а не когда просто ответить текстом.",
                "Логирование `tool_calls` упрощает отладку поведения агента.",
            ],
        },
        {
            id: 3,
            slug: "lesson-03-agent-loop",
            source: "src/03-agent-loop.ts",
            title: "Agent Loop: замыкаем петлю",
            level: "Начало",
            duration: "20-30 минут",
            summary: "Собираем основной цикл агента: принимаем запрос, выполняем tool calls, возвращаем результаты в контекст и продолжаем.",
            objectives: [
                "Собрать массив `messages` как единый контекст выполнения.",
                "Обработать несколько tools через единый реестр `toolHandlers`.",
                "Добавить ограничение по итерациям для защиты от бесконечного цикла.",
            ],
            keyPoints: [
                "Agent loop - ядро любой агентной системы.",
                "Каждый шаг должен сохраняться в контексте, иначе модель теряет состояние.",
                "Ограничение итераций - обязательная инженерная защита.",
            ],
        },
        {
            id: 4,
            slug: "lesson-04-real-tools",
            source: "src/04-real-tools.ts",
            title: "Реальные Tools: bash и файловая система",
            level: "Практика",
            duration: "25-35 минут",
            summary: "Переходим от учебных заглушек к реальным инструментам: выполнение команд и чтение файлов в рабочей директории.",
            objectives: [
                "Подключить tools `run_bash` и `read_file` к реальным Node API.",
                "Обработать ошибки исполнения и таймауты в handler-ах.",
                "Дать агенту задачу исследования проекта через tools.",
            ],
            keyPoints: [
                "Реальные tools резко расширяют возможности агента.",
                "Любой внешний вызов требует ограничений по времени и валидации.",
                "Логи инструмента нужны для анализа, почему агент выбрал конкретный путь.",
            ],
        },
        {
            id: 5,
            slug: "lesson-05-skills",
            source: "src/05-skills.ts",
            title: "Skills: модульная архитектура",
            level: "Архитектура",
            duration: "30-40 минут",
            summary: "Группируем tools и handlers в независимые skills, чтобы агент можно было гибко собирать под задачу.",
            objectives: [
                "Ввести интерфейс `Skill` с `tools`, `handlers`, `description`.",
                "Собрать агента из набора skills через `createAgent`.",
                "Понять, как ограничивать capabilities агента выбором skills.",
            ],
            keyPoints: [
                "Skills дают масштабируемость и переиспользование.",
                "Агенту не нужно давать все возможности сразу.",
                "Состав skills напрямую влияет на безопасность и стоимость выполнения.",
            ],
        },
        {
            id: 6,
            slug: "lesson-06-planning",
            source: "src/06-planning.ts",
            title: "Multi-step Planning",
            level: "Продвинутый",
            duration: "35-45 минут",
            summary: "Разделяем выполнение на две фазы: сначала модель строит структурированный план, затем исполняет его через tools.",
            objectives: [
                "Сделать отдельную фазу планирования с JSON-ответом.",
                "Провести валидацию/парсинг плана до старта выполнения.",
                "Запустить фазу исполнения с отчетом по шагам.",
            ],
            keyPoints: [
                "Plan-first снижает хаотичные действия агента.",
                "Явная структура плана помогает дебажить сложные задачи.",
                "Разделение ролей (planner/executor) повышает предсказуемость.",
            ],
        },
        {
            id: 7,
            slug: "lesson-07-adaptive-agent",
            source: "src/07-adaptive-agent.ts",
            title: "Adaptive Agent: Plan + ReAct + Replan",
            level: "Продвинутый",
            duration: "40-55 минут",
            summary: "Добавляем адаптивность: агент умеет анализировать промежуточные результаты, запрашивать реплан и менять стратегию на лету.",
            objectives: [
                "Ввести сигнал `request_replan` и контекст для перепланирования.",
                "Организовать цикл Plan -> Execute -> Replan до достижения цели.",
                "Зафиксировать выполненные шаги и новые открытия между итерациями.",
            ],
            keyPoints: [
                "Статичный план редко переживает реальное выполнение.",
                "ReAct-подход улучшает качество решений на длинных задачах.",
                "Реплан должен быть контролируемым, а не бесконечным.",
            ],
        },
        {
            id: 8,
            slug: "lesson-08-interactive-agent",
            source: "src/08-interactive-agent.ts",
            title: "Human-in-the-Loop + Wizard",
            level: "Финал",
            duration: "45-60 минут",
            summary: "Делаем агента безопасным для реальной работы: подтверждения перед опасными действиями, выбор вариантов и интерактивный ввод от пользователя.",
            objectives: [
                "Добавить подтверждение пользователя для изменяющих операций (`write_file`).",
                "Реализовать wizard-tools для выбора, ввода и подтверждения.",
                "Собрать интерактивный поток принятия решений вместе с пользователем.",
            ],
            keyPoints: [
                "Human-in-the-Loop нужен в задачах с риском ошибок или потери данных.",
                "Интерактивные развилки улучшают качество результата и доверие.",
                "Безопасность агента формируется архитектурой, а не одним промптом.",
            ],
        },
    ],
};
