<div class="step active" data-step="4" id="step-4">
            <div class="step-number">04</div>
            <div class="step-card">
                <div class="step-header">
                    <div class="step-title">Агент работает с реальным миром</div>
                    <span class="step-badge beginner">Практика</span>
                </div>
                <p class="step-intro">
                    До сих пор агент работал с учебными примерами. Пора выпустить его в реальный мир:
                    файлы, интернет, базы данных, email. Но с большой силой приходит большая ответственность.
                </p>

                <div class="step-content">
                    <div class="analogy-block">
                        <div class="analogy-block-title">Аналогия: стажёр за настоящим компьютером</div>
                        <p>
                            Три урока подряд наш стажёр тренировался на муляжах: игрушечный калькулятор,
                            учебная база данных, тестовые запросы. Теперь мы сажаем его за настоящий
                            рабочий компьютер. У него есть доступ к файлам компании, интернету,
                            корпоративной почте и базе данных. Он может делать настоящую работу —
                            но может и натворить дел, если не задать правила.
                        </p>
                    </div>

                    <div class="step-detail">
                        <p>
                            <strong>Реальные инструменты</strong> — это то, что отличает демо от
                            продакшена. Когда агент может отправить настоящий HTTP-запрос, прочитать
                            файл на сервере, записать данные в базу или отправить email — он перестаёт
                            быть игрушкой и становится полноценным рабочим инструментом.
                        </p>
                    </div>

                    <div class="step-detail">
                        <p>
                            Какие инструменты может использовать агент в реальной работе:
                        </p>
                        <p>
                            <strong>Файловая система</strong> — чтение отчётов, анализ Excel-таблиц,
                            создание документов. <strong>Web API</strong> — поиск информации в интернете,
                            получение курсов валют, данных о погоде, цен на товары.
                            <strong>Базы данных</strong> — выборка данных по клиентам, заказам, продуктам.
                            <strong>Email и мессенджеры</strong> — отправка уведомлений, отчётов, напоминаний.
                        </p>
                    </div>

                    <div class="arch-diagram">
                        <div class="arch-row">
                            <span class="loop-node llm">Агент</span>
                        </div>
                        <div class="arch-row" style="margin-top: 0.5rem;">
                            <span class="loop-arrow">&#8595;</span>
                            <span class="loop-arrow">&#8595;</span>
                            <span class="loop-arrow">&#8595;</span>
                            <span class="loop-arrow">&#8595;</span>
                        </div>
                        <div class="arch-row" style="margin-top: 0.5rem;">
                            <span class="loop-node context">Файлы</span>
                            <span class="loop-node tool">Web API</span>
                            <span class="loop-node output">База данных</span>
                            <span class="loop-node" style="background: rgba(244, 114, 182, 0.1); color: #f472b6; border: 1px solid rgba(244, 114, 182, 0.3);">Email</span>
                        </div>
                    </div>

                    <div class="scenario-block">
                        <div class="scenario-block-title">Пример: поиск актуальных данных</div>
                        <div class="scenario-line">
                            <span class="scenario-role user">Вы</span>
                            <span class="scenario-text">Найди текущую цену биткоина</span>
                        </div>
                        <div class="scenario-line">
                            <span class="scenario-role llm">LLM</span>
                            <span class="scenario-text">(думает) Мои данные могут быть устаревшими. Нужен поиск в интернете...</span>
                        </div>
                        <div class="scenario-line">
                            <span class="scenario-role tool">Tool</span>
                            <span class="scenario-text">web_search("bitcoin price USD") = $97,342</span>
                        </div>
                        <div class="scenario-line">
                            <span class="scenario-role llm">LLM</span>
                            <span class="scenario-text">Текущая цена биткоина: $97 342. Данные получены в реальном времени.</span>
                        </div>
                    </div>

                    <div class="step-detail">
                        <p>
                            Заметьте: LLM <em>сама поняла</em>, что её встроенные знания могут быть
                            устаревшими, и обратилась к инструменту. Это ключевое отличие реальных
                            инструментов: они дают агенту доступ к <strong>актуальной</strong> информации
                            и <strong>реальным действиям</strong>.
                        </p>
                    </div>

                    <div class="biz-example">
                        <div class="biz-example-title">Бизнес-пример: AI-ассистент менеджера</div>
                        <p>
                            Руководитель отдела продаж каждое утро тратит 40 минут на сбор данных
                            для планёрки. С AI-ассистентом:
                        </p>
                        <p>
                            «Подготовь утреннюю сводку» — и агент начинает работать. Читает
                            Excel-отчёт с продажами за вчера (файловая система). Сверяет план
                            с фактом (база данных). Проверяет статус ключевых сделок (CRM).
                            Собирает всё в красивую сводку. Отправляет на почту руководителю
                            и в чат команды.
                        </p>
                        <p>
                            40 минут рутины превращаются в 30 секунд одного запроса. Менеджер
                            может заниматься стратегией вместо копирования данных между таблицами.
                        </p>
                    </div>

                    <table class="compare-table">
                        <thead>
                            <tr>
                                <th>Игрушечные инструменты (демо)</th>
                                <th>Реальные инструменты (продакшен)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Фейковые данные, захардкоженные ответы</td>
                                <td>Живые API, настоящие базы данных</td>
                            </tr>
                            <tr>
                                <td>Ничего не ломается при ошибке</td>
                                <td>Ошибка может удалить данные или отправить письмо не тому</td>
                            </tr>
                            <tr>
                                <td>Работает без интернета</td>
                                <td>Нужны ключи доступа, подключения, права</td>
                            </tr>
                            <tr>
                                <td>Подходит для обучения и тестов</td>
                                <td>Подходит для реальных бизнес-задач</td>
                            </tr>
                            <tr>
                                <td>Нет вопросов безопасности</td>
                                <td>Необходимы ограничения, логирование, аудит</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="key-insight">
                        <strong>Безопасность — это не опция, а требование!</strong> Реальные инструменты
                        означают реальные последствия. Агент, который может отправить email, может
                        отправить его не тому человеку. Агент с доступом к базе может удалить данные.
                        Поэтому обязательны: ограничение прав (только чтение, если не нужна запись),
                        подтверждение опасных действий человеком и логирование всех операций.
                    </div>

                    <div class="step-detail">
                        <p>
                            Три правила безопасности для реальных агентов:
                        </p>
                        <p>
                            <strong>1. Принцип минимальных прав.</strong> Давайте агенту только те
                            инструменты, которые ему реально нужны. Не нужно отправлять email —
                            не подключайте email-инструмент.
                        </p>
                        <p>
                            <strong>2. Подтверждение опасных действий.</strong> Удаление, отправка,
                            оплата — любое необратимое действие должно требовать подтверждения человека.
                            Агент предлагает, человек одобряет.
                        </p>
                        <p>
                            <strong>3. Полное логирование.</strong> Записывайте каждый вызов
                            инструмента: что вызвано, с какими параметрами, какой результат.
                            Это и для отладки, и для аудита, и для улучшения системы.
                        </p>
                    </div>

                    <div class="lite-summary">
                        <div class="lite-summary-title">Главное из этого урока</div>
                        <ul>
                            <li><strong>Реальные инструменты = реальная польза.</strong> Файлы, API, базы данных, email — агент переходит от демо к продакшену.</li>
                            <li><strong>Агент может автоматизировать рутину.</strong> Сбор данных, подготовка отчётов, проверка статусов — часы работы превращаются в секунды.</li>
                            <li><strong>Безопасность обязательна.</strong> Минимальные права, подтверждение опасных действий, логирование каждой операции.</li>
                            <li><strong>Человек остаётся в контуре.</strong> Агент предлагает и выполняет, но критические решения принимает человек.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
